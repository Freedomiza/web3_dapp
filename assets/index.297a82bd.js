var pe=Object.defineProperty;var Jt=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var Mt=(g,e,b)=>e in g?pe(g,e,{enumerable:!0,configurable:!0,writable:!0,value:b}):g[e]=b,it=(g,e)=>{for(var b in e||(e={}))he.call(e,b)&&Mt(g,b,e[b]);if(Jt)for(var b of Jt(e))de.call(e,b)&&Mt(g,b,e[b]);return g};const ye=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))x(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&x(i)}).observe(document,{childList:!0,subtree:!0});function b(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function x(t){if(t.ep)return;t.ep=!0;const r=b(t);fetch(t.href,r)}};ye();function X(){}function Zt(g){return g()}function Kt(){return Object.create(null)}function nt(g){g.forEach(Zt)}function te(g){return typeof g=="function"}function ft(g,e){return g!=g?e==e:g!==e||g&&typeof g=="object"||typeof g=="function"}let _t;function Et(g,e){return _t||(_t=document.createElement("a")),_t.href=e,g===_t.href}function ve(g){return Object.keys(g).length===0}function we(g,...e){if(g==null)return X;const b=g.subscribe(...e);return b.unsubscribe?()=>b.unsubscribe():b}function ee(g,e,b){g.$$.on_destroy.push(we(e,b))}function L(g,e){g.appendChild(e)}function K(g,e,b){g.insertBefore(e,b||null)}function M(g){g.parentNode.removeChild(g)}function R(g){return document.createElement(g)}function Q(g){return document.createTextNode(g)}function F(){return Q(" ")}function ne(){return Q("")}function V(g,e,b,x){return g.addEventListener(e,b,x),()=>g.removeEventListener(e,b,x)}function ge(g){return function(e){return e.preventDefault(),g.call(this,e)}}function H(g,e,b){b==null?g.removeAttribute(e):g.getAttribute(e)!==b&&g.setAttribute(e,b)}function be(g){return Array.from(g.childNodes)}function re(g,e){e=""+e,g.wholeText!==e&&(g.data=e)}function ut(g,e){g.value=e==null?"":e}function Rt(g,e,b){g.classList[b?"add":"remove"](e)}let ht;function pt(g){ht=g}function me(){if(!ht)throw new Error("Function called outside component initialization");return ht}function _e(g){me().$$.on_mount.push(g)}const lt=[],Dt=[],St=[],Ht=[],ke=Promise.resolve();let Nt=!1;function Se(){Nt||(Nt=!0,ke.then(ie))}function Gt(g){St.push(g)}const Tt=new Set;let kt=0;function ie(){const g=ht;do{for(;kt<lt.length;){const e=lt[kt];kt++,pt(e),xe(e.$$)}for(pt(null),lt.length=0,kt=0;Dt.length;)Dt.pop()();for(let e=0;e<St.length;e+=1){const b=St[e];Tt.has(b)||(Tt.add(b),b())}St.length=0}while(lt.length);for(;Ht.length;)Ht.pop()();Nt=!1,Tt.clear(),pt(g)}function xe(g){if(g.fragment!==null){g.update(),nt(g.before_update);const e=g.dirty;g.dirty=[-1],g.fragment&&g.fragment.p(g.ctx,e),g.after_update.forEach(Gt)}}const xt=new Set;let et;function oe(){et={r:0,c:[],p:et}}function ue(){et.r||nt(et.c),et=et.p}function Y(g,e){g&&g.i&&(xt.delete(g),g.i(e))}function Z(g,e,b,x){if(g&&g.o){if(xt.has(g))return;xt.add(g),et.c.push(()=>{xt.delete(g),x&&(b&&g.d(1),x())}),g.o(e)}}function je(g,e){Z(g,1,1,()=>{e.delete(g.key)})}function Ae(g,e,b,x,t,r,i,s,f,n,a,u){let w=g.length,k=r.length,p=w;const v={};for(;p--;)v[g[p].key]=p;const y=[],S=new Map,c=new Map;for(p=k;p--;){const _=u(t,r,p),A=b(_);let $=i.get(A);$?x&&$.p(_,e):($=n(A,_),$.c()),S.set(A,y[p]=$),A in v&&c.set(A,Math.abs(p-v[A]))}const d=new Set,o=new Set;function h(_){Y(_,1),_.m(s,a),i.set(_.key,_),a=_.first,k--}for(;w&&k;){const _=y[k-1],A=g[w-1],$=_.key,O=A.key;_===A?(a=_.first,w--,k--):S.has(O)?!i.has($)||d.has($)?h(_):o.has(O)?w--:c.get($)>c.get(O)?(o.add($),h(_)):(d.add(O),w--):(f(A,i),w--)}for(;w--;){const _=g[w];S.has(_.key)||f(_,i)}for(;k;)h(y[k-1]);return y}function jt(g){g&&g.c()}function dt(g,e,b,x){const{fragment:t,on_mount:r,on_destroy:i,after_update:s}=g.$$;t&&t.m(e,b),x||Gt(()=>{const f=r.map(Zt).filter(te);i?i.push(...f):nt(f),g.$$.on_mount=[]}),s.forEach(Gt)}function yt(g,e){const b=g.$$;b.fragment!==null&&(nt(b.on_destroy),b.fragment&&b.fragment.d(e),b.on_destroy=b.fragment=null,b.ctx=[])}function Te(g,e){g.$$.dirty[0]===-1&&(lt.push(g),Se(),g.$$.dirty.fill(0)),g.$$.dirty[e/31|0]|=1<<e%31}function wt(g,e,b,x,t,r,i,s=[-1]){const f=ht;pt(g);const n=g.$$={fragment:null,ctx:null,props:r,update:X,not_equal:t,bound:Kt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Kt(),dirty:s,skip_bound:!1,root:e.target||f.$$.root};i&&i(n.root);let a=!1;if(n.ctx=b?b(g,e.props||{},(u,w,...k)=>{const p=k.length?k[0]:w;return n.ctx&&t(n.ctx[u],n.ctx[u]=p)&&(!n.skip_bound&&n.bound[u]&&n.bound[u](p),a&&Te(g,u)),w}):[],n.update(),a=!0,nt(n.before_update),n.fragment=x?x(n.ctx):!1,e.target){if(e.hydrate){const u=be(e.target);n.fragment&&n.fragment.l(u),u.forEach(M)}else n.fragment&&n.fragment.c();e.intro&&Y(g.$$.fragment),dt(g,e.target,e.anchor,e.customElement),ie()}pt(f)}class gt{$destroy(){yt(this,1),this.$destroy=X}$on(e,b){const x=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return x.push(b),()=>{const t=x.indexOf(b);t!==-1&&x.splice(t,1)}}$set(e){this.$$set&&!ve(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var $t=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function It(g){throw new Error('Could not dynamically require "'+g+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ae={exports:{}};(function(g){(function(){function e(x,t){return t?It(x):x.slice?e[r(x)]:function(i,s){x(i={exports:{}}),e[r(s)]=i.exports};function r(i){return i.split("/").slice(-1).toString().replace(".js","")}}var b=g;e(function(x){String.random=function(r,i){var s="";for(r=r||24,i=i||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";r-- >0;)s+=i.charAt(Math.floor(Math.random()*i.length));return s},String.match=function(r,i){var s,f;return typeof r!="string"?!1:(typeof i=="string"&&(i={"=":i}),i=i||{},s=i["="]||i["*"]||i[">"]||i["<"],r===s?!0:f!==i["="]?!1:(s=i["*"]||i[">"],r.slice(0,(s||"").length)===s?!0:f!==i["*"]?!1:f!==i[">"]&&f!==i["<"]?r>=i[">"]&&r<=i["<"]:f!==i[">"]&&r>=i[">"]||f!==i["<"]&&r<=i["<"]))},String.hash=function(r,i){if(typeof r=="string"){if(i=i||0,!r.length)return i;for(var s=0,f=r.length,n;s<f;++s)n=r.charCodeAt(s),i=(i<<5)-i+n,i|=0;return i}};var t=Object.prototype.hasOwnProperty;Object.plain=function(r){return r?r instanceof Object&&r.constructor===Object||Object.prototype.toString.call(r).match(/^\[object (\w+)\]$/)[1]==="Object":!1},Object.empty=function(r,i){for(var s in r)if(t.call(r,s)&&(!i||i.indexOf(s)==-1))return!1;return!0},Object.keys=Object.keys||function(r){var i=[];for(var s in r)t.call(r,s)&&i.push(s);return i},function(){var r,i=setTimeout,s=0,f=0,n=typeof setImmediate!=""+r&&setImmediate||i;i.hold=i.hold||9,i.poll=i.poll||function(a){if(i.hold>=+new Date-s&&f++<3333){a();return}n(function(){s=+new Date,a()},f=0)}}(),function(){var r=setTimeout,i=r.turn=r.turn||function(w){s.push(w)==1&&f(u)},s=i.s=[],f=r.poll,n=0,a,u=function(){(a=s[n++])&&a(),(n==s.length||n==99)&&(s=i.s=s.slice(n),n=0),s.length&&f(u)}}(),function(){var r,i=setTimeout,s=i.turn;(i.each=i.each||function(f,n,a,u){u=u||9,function w(k,p,v){if(p=(k=(f||[]).splice(0,u)).length){for(var y=0;y<p&&r===(v=n(k[y]));y++);if(r===v){s(w);return}}a&&a(v)}()})()}()})(e,"./shim"),e(function(x){x.exports=function t(a,i,s){if(!a)return{to:t};var f,n=typeof i=="function",a=(this.tag||(this.tag={}))[a]||n&&(this.tag[a]={tag:a,to:t._={next:function(w){var k;(k=this.to)&&k.next(w)}}});if(n){var u={off:t.off||(t.off=function(){if(this.next===t._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=t._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:t._,next:i,the:a,on:this,as:s};return(u.back=a.last||a).to=u,a.last=u}return(a=a.to)&&f!==i&&a.next(i),a}})(e,"./onto"),e(function(x){x.exports=function(t){return t===null||typeof t=="string"||typeof t=="boolean"||typeof t=="number"&&t!=1/0&&t!=-1/0&&t===t||!!t&&typeof t["#"]=="string"&&Object.keys(t).length===1&&t["#"]}})(e,"./valid"),e(function(x){e("./shim");function t(){var a=+new Date;return f<a?(i=0,f=a+t.drift):f=a+(i+=1)/s+t.drift}t.drift=0;var r=-1/0,i=0,s=999,f=r,n;t.is=function(a,u,w){var k=u&&a&&a._&&a._[">"]||w;if(!!k)return typeof(k=k[u])=="number"?k:r},t.ify=function(a,u,w,k,p){(a=a||{})._=a._||{},p&&(a._["#"]=p);var v=a._[">"]||(a._[">"]={});return n!==u&&u!=="_"&&(typeof w=="number"&&(v[u]=w),n!==k&&(a[u]=k)),a},x.exports=t})(e,"./state"),e(function(x){e("./shim");function t(r){var i={s:{}},s=i.s;r=r||{max:999,age:1e3*9},i.check=function(n){return s[n]?f(n):!1};var f=i.track=function(n){var a=s[n]||(s[n]={});return a.was=i.now=+new Date,i.to||(i.to=setTimeout(i.drop,r.age+9)),a};return i.drop=function(n){i.to=null,i.now=+new Date;var a=Object.keys(s);console.STAT&&console.STAT(i.now,+new Date-i.now,"dup drop keys"),setTimeout.each(a,function(u){var w=s[u];w&&(n||r.age)>i.now-w.was||delete s[u]},0,99)},i}x.exports=t})(e,"./dup"),e(function(x){e("./onto"),x.exports=function(i,s){if(!!this.on){var f=(this.opt||{}).lack||9e3;if(typeof i!="function"){if(!i)return;var a=i["#"]||i,n=(this.tag||"")[a];return n?(s&&(n=this.on(a,s),clearTimeout(n.err),n.err=setTimeout(function(){n.off()},f)),!0):void 0}var a=s&&s["#"]||t(9);if(!i)return a;var u=this.on(a,i,s);return u.err=u.err||setTimeout(function(){u.off(),u.next({err:"Error: No ACK yet.",lack:!0})},f),a}};var t=String.random||function(){return Math.random().toString(36).slice(2)}})(e,"./ask"),e(function(x){function t(p){return p instanceof t?(this._={$:this}).$:this instanceof t?t.create(this._={$:this,opt:p}):new t(p)}t.is=function(p){return p instanceof t||p&&p._&&p===p._.$||!1},t.version=.202,t.chain=t.prototype,t.chain.toJSON=function(){},e("./shim"),t.valid=e("./valid"),t.state=e("./state"),t.on=e("./onto"),t.dup=e("./dup"),t.ask=e("./ask"),function(){t.create=function(l){l.root=l.root||l,l.graph=l.graph||{},l.on=l.on||t.on,l.ask=l.ask||t.ask,l.dup=l.dup||t.dup();var j=l.$.opt(l.opt);return l.once||(l.on("in",p,l),l.on("out",p,l),l.on("put",S,l),t.on("create",l),l.on("create",l)),l.once=1,j};function p(l){if(!!l){if(l.out===p){this.to.next(l);return}var j=this,T=j.as,B=T.at||T,N=B.$,E=B.dup,G,I=l.DBG;if((G=l["#"])||(G=l["#"]=i(9)),!E.check(G)){if(E.track(G),G=l._,l._=typeof G=="function"?G:function(){},l.$&&l.$===(l.$._||"").$||(l.$=N),l["@"]&&!l.put&&d(l),!B.ask(l["@"],l))if(I&&(I.u=+new Date),l.put){v(l);return}else l.get&&t.on.get(l,N);I&&(I.uc=+new Date),j.to.next(l),I&&(I.ua=+new Date),!(l.nts||l.NTS)&&(l.out=p,B.on("out",l),I&&(I.ue=+new Date))}}}function v(l){if(!!l){var j=l._||"",T=j.root=((j.$=l.$||"")._||"").root;if(l["@"]&&j.faith&&!j.miss){l.out=p,T.on("out",l);return}j.latch=T.hatch,j.match=T.hatch=[];var B=l.put,N=j.DBG=l.DBG,E=+new Date;if(C=C||E,!(B["#"]&&B["."])){N&&(N.p=E),j["#"]=l["#"],j.msg=l,j.all=0,j.stun=1;var G=Object.keys(B);console.STAT&&console.STAT(E,((N||j).pk=+new Date)-E,"put sort");var I=0,P,U,J,W,q,z,st;(function rt(bt){if(P!=I){if(P=I,!(J=G[I])){console.STAT&&console.STAT(E,((N||j).pd=+new Date)-E,"put"),c(j);return}(W=B[J])?(st=W._)?J!==st["#"]?z=h+_(J)+"soul not same.":(q=st[">"])||(z=h+_(J)+"no state."):z=h+_(J)+"no meta.":z=h+_(J)+"no node.",U=Object.keys(W||{})}if(z){l.err=j.err=z,c(j);return}var Pt=0,tt;for(bt=bt||0;bt++<9&&(tt=U[Pt++]);)if(tt!=="_"){var mt=W[tt],Ut=q[tt];if(u===Ut){z=h+_(tt)+"on"+_(J)+"no state.";break}if(!f(mt)){z=h+_(tt)+"on"+_(J)+"bad "+typeof mt+_(mt);break}y(mt,tt,J,Ut,l),++D}if((U=U.slice(Pt)).length){s(rt);return}++I,U=null,rt(bt)})()}}}t.on.put=v;function y(l,j,T,B,N){var E=N._||"",G=E.root,I=G.graph,P,U=I[T]||w,J=n(U,j,1),W=U[j],q=E.DBG;(P=console.STAT)&&(!I[T]||!W)&&(P.has=(P.has||0)+1);var z=O();if(B>z){setTimeout(function(){y(l,j,T,B,N)},(P=B-z)>$?$:P),console.STAT&&console.STAT((q||E).Hf=+new Date,P,"future");return}if(!(B<J&&!E.miss)&&!(!E.faith&&B===J&&(l===W||A(l)<=A(W))&&!E.miss)){E.stun++;var st=N["#"]+E.all++,rt={toString:function(){return st},_:E};rt.toJSON=rt.toString,q&&(q.ph=q.ph||+new Date),G.on("put",{"#":rt,"@":N["@"],put:{"#":T,".":j,":":l,">":B},_:E})}}function S(l){var j;(j=(l._||"").DBG)&&(j.pa=+new Date,j.pm=j.pm||+new Date);var T=this,B=T.as,N=B.graph,E=l._,G=l.put,I=G["#"],P=G["."],U=G[":"],J=G[">"];l["#"];var W;(W=E.msg)&&(W=W.put)&&(W=W[I])&&a(W,P,J,U,I),N[I]=a(N[I],P,J,U,I),(W=(B.next||"")[I])&&W.on("in",l),c(E),T.to.next(l)}function c(l,j){var T;if(!l.stop&&!(!l.err&&0<--l.stun)&&(l.stop=1,!!(T=l.root))){var B=l.match;B.end=1,B===T.hatch&&(!(B=l.latch)||B.end?delete T.hatch:T.hatch=B),l.hatch&&l.hatch(),setTimeout.each(l.match,function(N){N&&N()}),!(!(j=l.msg)||l.err||j.err)&&(j.out=p,l.root.on("out",j),m())}}function d(l){var j=l["@"]||"",T;!(T=j._)||(T.acks=(T.acks||0)+1,(T.err=l.err)&&(l["@"]=T["#"],c(T)),!T.stop&&!T.crack&&(T.crack=T.match&&T.match.push(function(){o(T)})),o(T))}function o(l){!l||!l.root||l.stun||l.acks!==l.all||l.root.on("in",{"@":l["#"],err:l.err,ok:l.err?u:{"":1}})}var h="Error: Invalid graph!",_=function(l){return" '"+(""+l).slice(0,9)+"...' "},A=JSON.stringify,$=2147483647,O=t.state,D=0,C,m=function(){D>999&&D/-(C-(C=+new Date))>1&&(t.window&&console.log("Warning: You're syncing 1K+ records a second, faster than DOM can update - consider limiting query."),m=function(){D=0})}}(),function(){t.on.get=function(v,y){var S=y._,c=v.get,d=c["#"],o=S.graph[d],h=c["."],_=S.next||(S.next={});_[d];var A=v._||{},$=A.DBG=v.DBG;if($&&($.g=+new Date),!o)return S.on("get",v);if(h){if(typeof h!="string"||u===o[h])return S.on("get",v);o=a({},h,n(o,h),o[h],d)}o&&p(v,o),S.on("get",v)};function p(v,y){var S=+new Date,c=v._||{},d=c.DBG=v.DBG,o=v["#"],h=i(9),_=Object.keys(y||"").sort(),A=((y||"")._||"")["#"];_.length;var $=v.$._.root,O=y===$.graph[A];console.STAT&&console.STAT(S,((d||c).gk=+new Date)-S,"got keys"),y&&function D(){S=+new Date;for(var C=0,m,l={},j;C<9&&(m=_[C++]);)a(l,m,n(y,m),y[m],A);_=_.slice(C),(j={})[A]=l,l=j;var T;O&&(T=function(){},T.ram=T.faith=!0),j=_.length,console.STAT&&console.STAT(S,-(S-(S=+new Date)),"got copied some"),d&&(d.ga=+new Date),$.on("in",{"@":o,"#":h,put:l,"%":j?h=i(9):u,$:$.$,_:T,DBG:d}),console.STAT&&console.STAT(S,+new Date-S,"got in"),j&&setTimeout.turn(D)}(),y||$.on("in",{"@":v["#"]})}t.on.get.ack=p}(),function(){t.chain.opt=function(p){p=p||{};var v=this,y=v._,S=p.peers||p;return Object.plain(p)||(p={}),Object.plain(y.opt)||(y.opt=p),typeof S=="string"&&(S=[S]),Object.plain(y.opt.peers)||(y.opt.peers={}),S instanceof Array&&(p.peers={},S.forEach(function(c){var d={};d.id=d.url=c,p.peers[c]=y.opt.peers[c]=y.opt.peers[c]||d})),r(p,function c(d){var o=this[d];if(this&&this.hasOwnProperty(d)||typeof o=="string"||Object.empty(o)){this[d]=o;return}o&&o.constructor!==Object&&!(o instanceof Array)||r(o,c)}),y.opt.from=p,t.on("opt",y),y.opt.uuid=y.opt.uuid||function(d){return t.state().toString(36).replace(".","")+String.random(d||12)},v}}();var r=function(p,v){Object.keys(p).forEach(v,p)},i=String.random,s=setTimeout.turn,f=t.valid,n=t.state.is,a=t.state.ify,u,w={},k;t.log=function(){return!t.log.off&&k.log.apply(k,arguments),[].slice.call(arguments).join(" ")},t.log.once=function(p,v,y){return(y=t.log.once)[p]=y[p]||0,y[p]++||t.log(v)},typeof window!="undefined"&&((window.GUN=window.Gun=t).window=window);try{typeof b!="undefined"&&(b.exports=t)}catch{}x.exports=t,(t.window||{}).console=(t.window||{}).console||{log:function(){}},(k=console).only=function(p,v){return k.only.i&&p===k.only.i&&k.only.i++&&(k.log.apply(k,arguments)||v)},t.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")})(e,"./root"),e(function(x){var t=e("./root");t.chain.back=function(s,f){var n;if(s=s||1,s===-1||s===1/0)return this._.root.$;if(s===1)return(this._.back||this._).$;var a=this,u=a._;if(typeof s=="string"&&(s=s.split(".")),s instanceof Array){var w=0,k=s.length,n=u;for(w;w<k;w++)n=(n||r)[s[w]];return i!==n?f?a:n:(n=u.back)?n.$.back(s,f):void 0}if(typeof s=="function"){for(var p,n={back:u};(n=n.back)&&i===(p=s(n,f)););return p}return typeof s=="number"?(u.back||u).$.back(s-1):this};var r={},i})(e,"./back"),e(function(x){var t=e("./root");t.chain.chain=function(c){var d=this,o=d._,h=new(c||d).constructor(d),_=h._,A;return _.root=A=o.root,_.id=++A.once,_.back=d._,_.on=t.on,_.on("in",t.on.in,_),_.on("out",t.on.out,_),h};function r(c){var d,o=this.as,h=o.back,_=o.root,A;if(c.$||(c.$=o.$),this.to.next(c),o.err){o.on("in",{put:o.put=u,$:o.$});return}if(d=c.get){if(_.pass&&(_.pass[o.id]=o),o.lex&&Object.keys(o.lex).forEach(function($){A[$]=o.lex[$]},A=c.get=c.get||{}),d["#"]||o.soul){if(d["#"]=d["#"]||o.soul,c["#"]||(c["#"]=w(9)),h=_.$.get(d["#"])._,d=d["."]){if(p(h.put,d)&&(A=h.ask&&h.ask[d],(h.ask||(h.ask={}))[d]=h.$.get(d)._,h.on("in",{get:d,put:{"#":h.soul,".":d,":":h.put[d],">":y(_.graph[h.soul],d)}}),A))return}else{if(A=h.ask&&h.ask[""],(h.ask||(h.ask={}))[""]=h,u!==h.put&&(h.on("in",h),A))return;c.$=h.$}return _.ask(n,c),_.on("in",c)}if(d["."])return o.get?(c={get:{".":o.get},$:o.$},(h.ask||(h.ask={}))[o.get]=c.$._,h.on("out",c)):(c={get:o.lex?c.get:{},$:o.$},h.on("out",c));if((o.ask||(o.ask={}))[""]=o,o.get)return d["."]=o.get,(h.ask||(h.ask={}))[o.get]=c.$._,h.on("out",c)}return h.on("out",c)}t.on.out=r;function i(c,d){d=d||this.as;var o=d.root,h=c.$||(c.$=d.$),_=(h||"")._||a,A=c.put||"",$=A["#"],O=A["."],D=u!==A["="]?A["="]:A[":"],C=A[">"]||-1/0,m;if(u!==c.put&&(u===A["#"]||u===A["."]||u===A[":"]&&u===A["="]||u===A[">"])){if(!k(A)){if(!($=((A||"")._||"")["#"])){console.log("chain not yet supported for",A,"...",c,d);return}return h=d.root.$.get($),setTimeout.each(Object.keys(A).sort(),function(l){l=="_"||u===(C=y(A,l))||d.on("in",{$:h,put:{"#":$,".":l,"=":A[l],">":C},VIA:c})})}d.on("in",{$:_.back.$,put:{"#":$=_.back.soul,".":O=_.has||_.get,"=":A,">":y(_.back.put,O)},via:c});return}(c.seen||"")[d.id]||((c.seen||(c.seen=function(){}))[d.id]=d,d!==_&&(Object.keys(c).forEach(function(l){A[l]=c[l]},A={}),A.get=d.get||A.get,!d.soul&&!d.has?A.$$$=A.$$$||d.$:_.soul&&(A.$=d.$,A.$$=A.$$||_.$),c=A),f(c,d),(d.soul||c.$$)&&C>=y(o.graph[$],O)&&((A=o.$.get($)._).put=S(A.put,O,C,D,$)),!_.soul&&C>=y(o.graph[$],O)&&(m=(o.$.get($)._.next||"")[O])&&(m.put=D,typeof(A=k(D))=="string"&&(m.put=o.$.get(A)._.put||D)),this.to&&this.to.next(c),d.any&&setTimeout.each(Object.keys(d.any),function(l){(l=d.any[l])&&l(c)},0,99),d.echo&&setTimeout.each(Object.keys(d.echo),function(l){(l=d.echo[l])&&l.on("in",c)},0,99),((c.$$||"")._||_).soul&&(m=d.next)&&(m=m[O])&&(A={},Object.keys(c).forEach(function(l){A[l]=c[l]}),A.$=(c.$$||c.$).get(A.get=O),delete A.$$,delete A.$$$,m.on("in",A)),s(c,d))}t.on.in=i;function s(c,d){if(d=d||this.as||c.$._,!(c.$$&&this!==t.on)&&!(!c.put||d.soul)){var o=c.put||"",h=o["="]||o[":"],O,_=d.root,A=_.$.get(o["#"]).get(o["."])._;if(typeof(h=k(h))!="string"){this===t.on&&((A.echo||(A.echo={}))[d.id]=d);return}if(!((A.echo||(A.echo={}))[d.id]&&!(_.pass||"")[d.id])){if(O=_.pass){if(O[h+d.id])return;O[h+d.id]=1}(A.echo||(A.echo={}))[d.id]=d,d.has&&(d.link=h);var $=_.$.get(A.link=h)._;($.echo||($.echo={}))[A.id]=A;var O=d.ask||"";(O[""]||d.lex)&&$.on("out",{get:{"#":h}}),setTimeout.each(Object.keys(O),function(D,C){!D||!(C=O[D])||C.on("out",{get:{"#":h,".":D}})},0,99)}}}t.on.link=s;function f(c,d){var o=c.put||"",h=u!==o["="]?o["="]:o[":"],_=d.root,A,$;if(u===h){if(d.soul&&u!==d.put||($=(c.$$||c.$||"")._||"",c["@"]&&(u!==$.put||u!==d.put)))return;(A=d.link||c.linked)&&delete(_.$.get(A)._.echo||"")[d.id],d.has&&(d.link=null),d.put=u,setTimeout.each(Object.keys(d.next||""),function(O,D){!(D=d.next[O])||(A&&delete(_.$.get(A).get(O)._.echo||"")[D.id],D.on("in",{get:O,put:u,$:D.$}))},0,99);return}d.soul||c.$$||(A=k(h),$=c.$._||"",!((A===$.link||d.has&&!$.link)&&!((_.pass||"")[d.id]&&typeof A!="string"))&&(delete($.echo||"")[d.id],f({get:d.get,put:u,$:c.$,linked:c.linked=c.linked||$.link},d)))}t.on.unlink=f;function n(c,d){var o=this.as,h=o.$._;h.root;var _=o.get||"",A=(c.put||"")[_["#"]]||"";if(!c.put||typeof _["."]=="string"&&u===A[_["."]]){if(u!==h.put||!h.soul&&!h.has)return;h.ack=(h.ack||0)+1,h.on("in",{get:h.get,put:h.put=u,$:h.$,"@":c["@"]});return}(c._||{}).miss=1,t.on.put(c)}var a={},u,w=String.random,k=t.valid,p=function(c,d){return c&&Object.prototype.hasOwnProperty.call(c,d)},v=t.state,y=v.is,S=v.ify})(e,"./chain"),e(function(x){var t=e("./root");t.chain.get=function(u,w,k){var p,v;if(typeof u=="string"){if(u.length==0)return(p=this.chain())._.err={err:t.log("0 length key!",u)},w&&w.call(p,p._.err),p;var y=this,S=y._,c=S.next||f;(p=c[u])||(p=u&&r(u,y)),p=p&&p.$}else if(typeof u=="function"){let O=function(D,C,m){if(!O.stun&&!((E=o.pass)&&!E[h])){var l=D.$._,j=(D.$$||"")._,T=(j||l).put,B=!l.has&&!l.soul,N={},E;if((B||a===T)&&(T=a===((E=D.put)||"")["="]?a===(E||"")[":"]?E:E[":"]:E["="]),typeof(E=t.valid(T))=="string"&&(T=a===(E=o.$.get(E)._.put)?d.not?a:T:E),!(d.not&&a===T)){if(a===d.stun){if((E=o.stun)&&E.on&&(S.$.back(function(G){if(E.on(""+G.id,N={}),(N.run||0)<O.id)return N}),!N.run&&E.on(""+l.id,N={}),!N.run&&j&&E.on(""+j.id,N={}),O.id>N.run&&((!N.stun||N.stun.end)&&(N.stun=E.on("stun"),N.stun=N.stun&&N.stun.last),N.stun&&!N.stun.end))){(N.stun.add||(N.stun.add={}))[h]=function(){O(D,C,1)};return}if(a===T&&(m=0),(E=o.hatch)&&!E.end&&a===d.hatch&&!m){if(_[l.$._.id])return;_[l.$._.id]=1,E.push(function(){O(D,C,1)});return}_={}}if(o.pass){if(o.pass[h+l.id])return;o.pass[h+l.id]=1}if(d.on){d.ok.call(l.$,T,l.get,D,C||O);return}if(d.v2020){d.ok(D,C||O);return}Object.keys(D).forEach(function(G){E[G]=D[G]},E={}),D=E,D.put=T,d.ok.call(d.as,D,C||O)}}};var A=O;if(w===!0)return i(this,u,w,k),this;p=this;var S=p._,d=w||{},o=S.root,h;d.at=S,d.ok=u;var _={};return O.at=S,(S.any||(S.any={}))[h=String.random(7)]=O,O.off=function(){O.stun=1,S.any&&delete S.any[h]},O.rid=s,O.id=d.run||++o.once,v=o.pass,(o.pass={})[h]=1,d.out=d.out||{get:{}},S.on("out",d.out),o.pass=v,p}else{if(typeof u=="number")return this.get(""+u,w,k);if(typeof(v=n(u))=="string")return this.get(v,w,k);(v=this.get.next)&&(p=v(this,u))}return p?(w&&typeof w=="function"&&p.get(w,k),p):((p=this.chain())._.err={err:t.log("Invalid get request!",u)},w&&w.call(p,p._.err),p)};function r(u,w){var k=w._,p=k.next,v=w.chain(),y=v._;return p||(p=k.next={}),p[y.get=u]=y,w===k.root.$?y.soul=u:(k.soul||k.has)&&(y.has=u),y}function i(u,w,k,p){var v=u._,y=0,S;return(S=v.soul||v.link)?w(S,p,v):v.jam?v.jam.push([w,p]):(v.jam=[[w,p]],u.get(function(d,o){if(!(a===d.put&&!v.root.opt.super&&(S=Object.keys(v.root.opt.peers).length)&&++y<=S)){o.rid(d);var h=(h=d.$)&&h._||{},_=0,A;for(S=v.jam,delete v.jam;A=S[_++];){var $=A[0];A=A[1],$&&$(h.link||h.soul||t.valid(d.put)||((d.put||{})._||{})["#"],A,d,o)}}},{out:{get:{".":!0}}}),u)}function s(u){var w=this.at||this.on;if(!u||w.soul||w.has)return this.off();if(!!(u=(u=(u=u.$||u)._||u).id)){w.map;var k;if((k=this.seen||(this.seen={}))[u])return!0;k[u]=!0}}var f={},n=t.valid,a})(e,"./get"),e(function(x){var t=e("./root");t.chain.put=function(p,v,y){var S=this,c=S._,d=c.root;y=y||{},y.root=c.root,y.run||(y.run=d.once),r(y,c.id),y.ack=y.ack||v,y.via=y.via||S,y.data=y.data||p,y.soul||(y.soul=c.soul||typeof v=="string"&&v);var o=y.state=y.state||t.state();return typeof p=="function"?(p(function(h){y.data=h,S.put(n,n,y)}),S):y.soul?(y.$=d.$.get(y.soul),y.todo=[{it:y.data,ref:y.$}],y.turn=y.turn||u,y.ran=y.ran||i,function h(){var _=y.todo,A=_.pop(),$=A.it;A.ref&&A.ref._.id;var O,D,C,m,l;if(r(y,A.ref),(m=A.todo)&&(D=m.pop(),$=$[D],m.length&&_.push(A)),D&&(_.path||(_.path=[])).push(D),!(O=w($))&&!(l=t.is($))){if(!Object.plain($)){i.err(y,"Invalid data: "+f($)+" at "+(y.via.back(function(E){E.get&&m.push(E.get)},m=[])||m.join("."))+"."+(_.path||[]).join("."));return}for(var j=y.seen||(y.seen=[]),T=j.length;T--;)if($===(m=j[T]).it){O=$=m.link;break}}if(D&&O)A.node=k(A.node,D,o,$);else{let E=function(G,I){var P=C.link["#"];I&&(I.off(),I.rid(G));var U=P||G.soul||(m=(G.$$||G.$)._||"").soul||m.link||((m=m.put||"")._||"")["#"]||m["#"]||((m=G.put||"")&&G.$$?m["#"]:(m["="]||m[":"]||"")["#"]);if(!P&&r(y,G.$),!U&&!A.link["#"]){(A.wait||(A.wait=[])).push(function(){E(G,I)});return}U||(U=[],(G.$$||G.$).back(function(J){if(m=J.soul||J.link)return U.push(m);U.push(J.get)}),U=U.reverse().join("/")),C.link["#"]=U,!l&&(((y.graph||(y.graph={}))[U]=C.node||(C.node={_:{}}))._["#"]=U),delete y.wait[B],C.wait&&setTimeout.each(C.wait,function(J){J&&J()}),y.ran(y)};var N=E;if(!y.seen){i.err(y,"Data at root of graph must be a node (an object).");return}y.seen.push(C={it:$,link:{},todo:l?[]:Object.keys($).sort().reverse(),path:(_.path||[]).slice(),up:A}),A.node=k(A.node,D,o,C.link),!l&&C.todo.length&&_.push(C);var B=y.seen.length;(y.wait||(y.wait={}))[B]="",m=(C.ref=l?$:D?A.ref.get(D):A.ref)._,(m=$&&($._||"")["#"]||m.soul||m.link)?E({soul:m}):C.ref.get(E,{run:y.run,v2020:1,out:{get:{".":" "}}})}if(!_.length)return y.ran(y);y.turn(h)}(),S):(s(y),S)};function r(p,v){if(!!v){v=(v._||"").id||v;var y=p.root.stun||(p.root.stun={on:t.on}),S={},c;p.stun||(p.stun=y.on("stun",function(){})),(c=y.on(""+v))&&c.the.last.next(S),!(S.run>=p.run)&&y.on(""+v,function(d){if(p.stun.end){this.off(),this.to.next(d);return}d.run=d.run||p.run,d.stun=d.stun||p.stun})}}function i(p){if(p.err){i.end(p.stun,p.root);return}if(!(p.todo.length||p.end||!Object.empty(p.wait))){p.end=1;var v=p.$.back(-1)._,y=v.root,S=v.ask(function(h){y.on("ack",h),h.err&&t.log(h),++c>(p.acks||0)&&this.off(),p.ack&&p.ack(h,this)},p.opt),c=0,d=p.stun,o;(o=function(){!d||(i.end(d,y),setTimeout.each(Object.keys(d=d.add||""),function(h){(h=d[h])&&h()}))}).hatch=o,p.via._.on("out",{put:p.out=p.graph,opt:p.opt,"#":S,_:o})}}i.end=function(p,v){p.end=a,p.the.to===p&&p===p.the.last&&delete v.stun,p.off()},i.err=function(p,v){(p.ack||a).call(p,p.out={err:p.err=t.log(v)}),p.ran(p)};function s(p){var v=p.via._,y;p.via=p.via.back(function(S){if(S.soul||!S.get)return S.$;y=p.data,(p.data={})[S.get]=y}),(!p.via||!p.via._.soul)&&(p.via=v.root.$.get(((p.data||"")._||"")["#"]||v.$.back("opt.uuid")())),p.via.put(p.data,p.ack,p)}function f(p,v){return p&&(v=p.constructor)&&v.name||typeof p}var n,a=function(){},u=setTimeout.turn,w=t.valid,k=t.state.ify})(e,"./put"),e(function(x){var t=e("./root");e("./chain"),e("./back"),e("./put"),e("./get"),x.exports=t})(e,"./index"),e(function(x){var t=e("./index");t.chain.on=function(s,f,n,a){var u=this,w=u._;w.root;var k;if(typeof s=="string")return f?(k=w.on(s,f,n||w,a),n&&n.$&&(n.subs||(n.subs=[])).push(k),u):w.on(s);var p=f;return(p=p===!0?{change:!0}:p||{}).not=1,p.on=1,u.get(s,p),u},t.chain.once=function(s,f){if(f=f||{},!s)return r(this);var n=this,a=n._,u=a.root;a.put;var w=String.random(7),k;return n.get(function(p,v,y,S){var c=this,d=c._,o=d.one||(d.one={});if(S.stun||o[w]==="")return;if((k=t.valid(p))===!0){h();return}if(typeof k=="string")return;clearTimeout((a.one||"")[w]),clearTimeout(o[w]),o[w]=setTimeout(h,f.wait||99);function h(_){if(!d.has&&!d.soul&&(d={put:p,get:v}),i===(k=d.put)&&(k=((y.$$||"")._||"").put),typeof t.valid(k)=="string"&&(k=u.$.get(k)._.put,k===i&&!_)){o[w]=setTimeout(function(){h(1)},f.wait||99);return}S.stun||o[w]!==""&&(o[w]="",(a.soul||a.has)&&S.off(),s.call(c,k,d.get),clearTimeout(o[w]))}},{on:1}),n};function r(s,f,n){return t.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(n=s.chain())._.nix=s.once(function(a,u){n._.on("in",this._)}),n._.lex=s._.lex,n}t.chain.off=function(){var s=this,f=s._,n,a=f.back;if(!!a)return f.ack=0,(n=a.next)&&n[f.get]&&delete n[f.get],(n=a.ask)&&delete n[f.get],(n=a.put)&&delete n[f.get],(n=f.soul)&&delete a.root.graph[n],(n=f.map)&&Object.keys(n).forEach(function(u,w){w=n[u],w.link&&a.root.$.get(w.link).off()}),(n=f.next)&&Object.keys(n).forEach(function(u,w){w=n[u],w.$.off()}),f.on("off",{}),s};var i})(e,"./on"),e(function(x){var t=e("./index"),r=t.chain.get.next;t.chain.get.next=function(n,a){var u;return Object.plain(a)?(u=((u=a["#"])||"")["="]||u)?n.get(u):((u=n.chain()._).lex=a,n.on("in",function(w){String.match(w.get||(w.put||"")["."],a["."]||a["#"]||a)&&u.on("in",w),this.to.next(w)}),u.$):(r||s)(n,a)},t.chain.map=function(n,a,u){var w=this,k=w._,p,v;return Object.plain(n)&&(p=n["."]?n:{".":n},n=f),n?(t.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),v=w.chain(),w.map().on(function(y,S,c,d){var o=(n||s).call(this,y,S,c,d);if(f!==o){if(y===o)return v._.on("in",c);if(t.is(o))return v._.on("in",o._);var h={};Object.keys(c.put).forEach(function(_){h[_]=c.put[_]},h),h["="]=o,v._.on("in",{get:S,put:h})}}),v):((v=k.each)||((k.each=v=w.chain())._.lex=p||v._.lex||k.lex,v._.nix=w.back("nix"),w.on("in",i,v._)),v)};function i(n){this.to.next(n);var a=this.as,u=n.$,w=u._,k=n.put,p;!w.soul&&!n.$$||(p=a.lex)&&!String.match(n.get||(k||"")["."],p["."]||p["#"]||p)||t.on.link(n,a)}var s=function(){},f})(e,"./map"),e(function(x){var t=e("./index");t.chain.set=function(r,i,s){var f=this,n=f.back(-1),a,u;return i=i||function(){},s=s||{},s.item=s.item||r,(a=((r||"")._||"")["#"])&&((r={})["#"]=a),typeof(u=t.valid(r))=="string"?f.get(a=u).put(r,i,s):t.is(r)?(f.put(function(w){r.get(function(k,p,v){if(!k)return i.call(f,{err:t.log('Only a node can be linked! Not "'+v.put+'"!')});(u={})[k]={"#":k},w(u)},!0)}),r):(Object.plain(r)&&(r=n.get(a=f.back("opt.uuid")()).put(r)),f.get(a||n.back("opt.uuid")(7)).put(r,i,s))}})(e,"./set"),e(function(x){e("./shim");var t=function(){},r=JSON.parseAsync||function(n,a,u){var w,k=+new Date;try{a(w,JSON.parse(n,u),i.sucks(+new Date-k))}catch(p){a(p)}},i=JSON.stringifyAsync||function(n,a,u,w){var k,p=+new Date;try{a(k,JSON.stringify(n,u,w),i.sucks(+new Date-p))}catch(v){a(v)}};i.sucks=function(n){n>99&&(console.log("Warning: JSON blocking CPU detected. Add `gun/lib/yson.js` to fix."),i.sucks=t)};function s(n){var a=function(){},u=n.opt||{};u.log=u.log||console.log,u.gap=u.gap||u.wait||0,u.max=u.max||(u.memory?u.memory*999*999:3e8)*.3,u.pack=u.pack||u.max*.01*.01,u.puff=u.puff||9;var w=setTimeout.turn||setTimeout,k=n.dup,p=k.check,v=k.track,y=a.hear=function(o,h){if(!!o){if(u.max<=o.length)return a.say({dam:"!",err:"Message too big!"},h);a===this&&(y.d+=o.length||0,++y.c);var _=h.SH=+new Date,A=o[0],$;if(A==="["){r(o,function(O,D){if(O||!D)return a.say({dam:"!",err:"DAM JSON parse error."},h);console.STAT&&console.STAT(+new Date,D.length,"# on hear batch");var C=u.puff;(function m(){for(var l=+new Date,j=0,T;j<C&&(T=D[j++]);)a.hear(T,h);D=D.slice(j),console.STAT&&console.STAT(l,+new Date-l,"hear loop"),S(h),D.length&&w(m,0)})()}),o="";return}if(A==="{"||(o["#"]||Object.plain(o))&&($=o)){if($)return y.one($,h,_);r(o,function(O,D){if(O||!D)return a.say({dam:"!",err:"DAM JSON parse error."},h);y.one(D,h,_)});return}}};y.one=function(o,h,m){var A,$,O,D,C;if(o.DBG&&(o.DBG=C={DBG:o.DBG}),C&&(C.h=m),C&&(C.hp=+new Date),(A=o["#"])||(A=o["#"]=String.random(9)),!(O=p(A))&&($=o["##"],!($&&(O=o["@"]||o.get&&A)&&k.check(D=O+$)))){if((o._=function(){}).via=a.leap=h,(O=o["><"])&&typeof O=="string"&&O.slice(0,99).split(",").forEach(function(l){this[l]=1},o._.yo={}),O=o.dam){(O=a.hear[O])&&O(o,h,n),v(A);return}var m=+new Date;C&&(C.is=m),h.SI=A,n.on("in",a.last=o),C&&(C.hd=+new Date),console.STAT&&console.STAT(m,+new Date-m,o.get?"msg get":o.put?"msg put":"msg"),(O=v(A)).via=h,o.get&&(O.it=o),D&&v(D),a.leap=a.last=null}},y.c=y.d=0,function(){var o=0,h;a.hash=function($,O){var D,C,m,l=+new Date;i($.put,function j(T,B){var N=(C||(C=m=B||"")).slice(0,32768);if(D=String.hash(N,D),C=C.slice(32768),C){w(j,0);return}console.STAT&&console.STAT(l,+new Date-l,"say json+hash"),$._.$put=m,$["##"]=D,a.say($,O),delete $._.$put},_)};function _($,O){var D;return O instanceof Object?(Object.keys(O).sort().forEach(A,{to:D={},on:O}),D):O}function A($){this.to[$]=this.on[$]}a.say=function($,O){var D;if((D=this)&&(D=D.to)&&D.next&&D.next($),!$)return!1;var C,m,l=$["@"],j=$._||($._=function(){}),T=$.DBG,B=+new Date;if(j.y=j.y||B,O||T&&(T.y=B),(C=$["#"])||(C=$["#"]=String.random(9)),!h&&v(C),$.put&&($.err||(k.s[C]||"").err))return!1;if(!$["##"]&&f!==$.put&&!j.via&&l){a.hash($,O);return}if(!O&&l&&(O=(D=k.s[l])&&(D.via||(D=D.it)&&(D=D._)&&D.via)||(D=a.last)&&l===D["#"]&&a.leap),!O&&l)return k.s[l]?void 0:(console.STAT&&console.STAT(+new Date,++o,"total no peer to ack to"),!1);if(!O&&a.way)return a.way($);if(T&&(T.yh=+new Date),!(m=j.raw)){a.raw($,O);return}if(T&&(T.yr=+new Date),!O||!O.id){if(!Object.plain(O||u.peers))return!1;var B=+new Date;u.puff;var N=u.peers,E=Object.keys(O||u.peers||{});console.STAT&&console.STAT(B,+new Date-B,"peer keys"),function P(){var U=+new Date;h=1;var J=j.raw;j.raw=m;for(var W=0,q;W<9&&(q=(E||"")[W++]);)!(q=N[q])||a.say($,q);j.raw=J,h=0,E=E.slice(W),console.STAT&&console.STAT(U,+new Date-U,"say loop"),E.length&&(w(P,0),l&&v(l))}();return}if(!O.wire&&a.wire&&a.wire(O),C!==O.last){if(O.last=C,O===j.via||(D=j.yo)&&(D[O.url]||D[O.pid]||D[O.id]))return!1;if(console.STAT&&console.STAT(B,((T||j).yp=+new Date)-(j.y||B),"say prep"),!h&&l&&v(l),O.batch){if(O.tail=(D=O.tail||0)+m.length,O.tail<=u.pack){O.batch+=(D?",":"")+m;return}S(O)}O.batch="[";var G=+new Date;setTimeout(function(){console.STAT&&console.STAT(G,+new Date-G,"0ms TO"),S(O)},u.gap),c(m,O),console.STAT&&l===O.SI&&console.STAT(B,+new Date-O.SH,"say ack")}},a.say.c=a.say.d=0,a.raw=function($,O){if(!$)return"";var D=$._||{},C,m;if(m=D.raw)return m;if(typeof $=="string")return $;var l=$["##"],j=$["@"];if(l&&j){if(!D.via&&p(j+l))return!1;if((m=(k.s[j]||"").it)||(m=a.last)&&j===m["#"]){if(l===m["##"])return!1;m["##"]||(m["##"]=l)}}if(!$.dam){var T=0,B=[];m=u.peers;for(var N in m){var E=m[N];if(B.push(E.url||E.pid||E.id),++T>6)break}T>1&&($["><"]=B.join())}if(C=D.$put){m={},Object.keys($).forEach(function(I){m[I]=$[I]}),m.put=":])([:",i(m,function(I,P){if(!I){var U=+new Date;m=P.indexOf('"put":":])([:"'),G(f,P=P.slice(0,m+6)+C+P.slice(m+14)),console.STAT&&console.STAT(U,+new Date-U,"say slice")}});return}i($,G);function G(I,P){I||(D.raw=P,a.say($,O))}}}();function S(o){var h=o.batch,_=typeof h=="string";if(_&&(h+="]"),o.batch=o.tail=null,!!h&&!(_?3>h.length:!h.length)){if(!_)try{h=h.length===1?h[0]:JSON.stringify(h)}catch(A){return u.log("DAM JSON stringify error",A)}!h||c(h,o)}}function c(o,h){try{var _=h.wire;h.say?h.say(o):_.send&&_.send(o),a.say.d+=o.length||0,++a.say.c}catch{(h.queue=h.queue||[]).push(o)}}a.hi=function(o){var h=o.wire,_;if(!h){a.wire(o.length&&{url:o}||o);return}o.id?u.peers[o.url||o.id]=o:(_=o.id=o.id||String.random(9),a.say({dam:"?",pid:n.opt.pid},u.peers[_]=o),delete k.s[o.last]),o.met=o.met||+new Date,h.hied||n.on(h.hied="hi",o),_=o.queue,o.queue=[],setTimeout.each(_||[],function(A){c(A,o)},0,9)},a.bye=function(o){n.on("bye",o);var h=+new Date;h=h-(o.met||h),a.bye.time=((a.bye.time||h)+h)/2},a.hear["!"]=function(o,h){u.log("Error:",o.err)},a.hear["?"]=function(o,h){o.pid&&(h.pid||(h.pid=o.pid),o["@"])||(a.say({dam:"?",pid:u.pid,"@":o["#"]},h),delete k.s[h.last])},n.on("create",function(o){o.opt.pid=o.opt.pid||String.random(9),this.to.next(o),o.on("out",a.say)}),n.on("bye",function(o,h){o=u.peers[o.id||o]||o,this.to.next(o),o.bye?o.bye():(h=o.wire)&&h.close&&h.close(),delete u.peers[o.id],o.wire=null});var d={};return n.on("bye",function(o,h){this.to.next(o),(h=console.STAT)&&(h.peers=(h.peers||0)-1),(h=o.url)&&(d[h]=!0,setTimeout(function(){delete d[h]},u.lack||9e3))}),n.on("hi",function(o,h){this.to.next(o),(h=console.STAT)&&(h.peers=(h.peers||0)+1),!(!(h=o.url)||!d[h])&&(delete d[h],!u.super&&setTimeout.each(Object.keys(n.next),function(_){n.next[_],h={},h[_]=n.graph[_],h=String.hash(h),a.say({"##":h,get:{"#":_}},o)}))}),a}var f;try{x.exports=s}catch{}})(e,"./mesh"),e(function(x){var t=e("../index");t.Mesh=e("./mesh"),t.on("opt",function(i){if(this.to.next(i),i.once)return;var s=i.opt;if(s.WebSocket===!1)return;var f=t.window||{},n=s.WebSocket||f.WebSocket||f.webkitWebSocket||f.mozWebSocket;if(!n)return;s.WebSocket=n;var a=s.mesh=s.mesh||t.Mesh(i);a.wire||s.wire,a.wire=s.wire=u;function u(v){try{if(!v||!v.url)return S&&S(v);var y=v.url.replace(/^http/,"ws"),S=v.wire=new s.WebSocket(y);return S.onclose=function(){s.mesh.bye(v),k(v)},S.onerror=function(c){k(v)},S.onopen=function(){s.mesh.hi(v)},S.onmessage=function(c){!c||s.mesh.hear(c.data||c,v)},S}catch{}}setTimeout(function(){!s.super&&i.on("out",{dam:"hi"})},1);var w=2*999;function k(v){clearTimeout(v.defer),s.peers[v.url]&&(p&&v.retry<=0||(v.retry=(v.retry||s.retry+1||60)-(-v.tried+(v.tried=+new Date)<w*4?1:0),v.defer=setTimeout(function y(){if(p&&p.hidden)return setTimeout(y,w);u(v)},w)))}var p=""+r!=typeof document&&document});var r})(e,"./websocket"),e(function(x){if(typeof Gun!="undefined"){var t=function(){},r;try{r=(Gun.window||t).localStorage}catch{}r||(Gun.log("Warning: No localStorage exists to persist data to!"),r={setItem:function(s,f){this[s]=f},removeItem:function(s){delete this[s]},getItem:function(s){return this[s]}});var i=JSON.stringifyAsync||function(s,f,n,a){var u;try{f(u,JSON.stringify(s,n,a))}catch(w){f(w)}};Gun.on("create",function s(f){this.to.next(f);var n=f.opt;f.graph;var a=[],u,w,k,p;if(n.localStorage===!1)return;n.prefix=n.file||"gun/";try{u=s[n.prefix]=s[n.prefix]||JSON.parse(k=r.getItem(n.prefix))||{}}catch{u=s[n.prefix]={}}k=(k||"").length,f.on("get",function(y){this.to.next(y);var S=y.get,c,d,o,h;!S||!(c=S["#"])||(d=u[c]||h,d&&(o=S["."])&&!Object.plain(o)&&(d=Gun.state.ify({},o,Gun.state.is(d,o),d[o],c)),Gun.on.get.ack(y,d))}),f.on("put",function(y){this.to.next(y);var S=y.put,c=S["#"],d=S["."],o=y["#"];if(u[c]=Gun.state.ify(u[c],d,S[">"],S[":"],c),p&&k>4999880){f.on("in",{"@":o,err:"localStorage max!"});return}y["@"]||a.push(o),!w&&(w=setTimeout(v,9+k/333))});function v(){if(!a.length&&((setTimeout.turn||"").s||"").length){setTimeout(v,99);return}var y=a;clearTimeout(w),w=!1,a=[],i(u,function(S,c){try{!S&&r.setItem(n.prefix,c)}catch(d){S=p=d||"localStorage failure"}S&&(Gun.log(S+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),f.on("localStorage:error",{err:S,get:n.prefix,put:u})),k=c.length,!(!S&&!Object.empty(n.peers))&&setTimeout.each(y,function(d){f.on("in",{"@":d,err:S,ok:0})},0,99)})}})}})(e,"./localStorage")})(),function(){var C;if(""+C!=typeof Gun){var e=function(m){console.warn("Warning! Deprecated internal utility will break in next version:",m)},b=Gun;b.fn=b.fn||{is:function(m){return e("fn"),!!m&&typeof m=="function"}},b.bi=b.bi||{is:function(m){return e("bi"),m instanceof Boolean||typeof m=="boolean"}},b.num=b.num||{is:function(m){return e("num"),!x(m)&&(m-parseFloat(m)+1>=0||m===1/0||m===-1/0)}},b.text=b.text||{is:function(m){return e("text"),typeof m=="string"}},b.text.ify=b.text.ify||function(m){return e("text.ify"),b.text.is(m)?m:typeof JSON!="undefined"?JSON.stringify(m):m&&m.toString?m.toString():m},b.text.random=b.text.random||function(m,l){e("text.random");var j="";for(m=m||24,l=l||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";m>0;)j+=l.charAt(Math.floor(Math.random()*l.length)),m--;return j},b.text.match=b.text.match||function(m,l){var j,T;return e("text.match"),typeof m!="string"?!1:(typeof l=="string"&&(l={"=":l}),l=l||{},j=l["="]||l["*"]||l[">"]||l["<"],m===j?!0:T!==l["="]?!1:(j=l["*"]||l[">"]||l["<"],m.slice(0,(j||"").length)===j?!0:T!==l["*"]?!1:T!==l[">"]&&T!==l["<"]?m>=l[">"]&&m<=l["<"]:T!==l[">"]&&m>=l[">"]||T!==l["<"]&&m<=l["<"]))},b.text.hash=b.text.hash||function(m,l){if(e("text.hash"),typeof m=="string"){if(l=l||0,!m.length)return l;for(var j=0,T=m.length,B;j<T;++j)B=m.charCodeAt(j),l=(l<<5)-l+B,l|=0;return l}},b.list=b.list||{is:function(m){return e("list"),m instanceof Array}},b.list.slit=b.list.slit||Array.prototype.slice,b.list.sort=b.list.sort||function(m){return e("list.sort"),function(l,j){return!l||!j?0:(l=l[m],j=j[m],l<j?-1:l>j?1:0)}},b.list.map=b.list.map||function(m,l,j){return e("list.map"),O(m,l,j)},b.list.index=1,b.obj=b.boj||{is:function(m){return e("obj"),m?m instanceof Object&&m.constructor===Object||Object.prototype.toString.call(m).match(/^\[object (\w+)\]$/)[1]==="Object":!1}},b.obj.put=b.obj.put||function(m,l,j){return e("obj.put"),(m||{})[l]=j,m},b.obj.has=b.obj.has||function(m,l){return e("obj.has"),m&&Object.prototype.hasOwnProperty.call(m,l)},b.obj.del=b.obj.del||function(m,l){if(e("obj.del"),!!m)return m[l]=null,delete m[l],m},b.obj.as=b.obj.as||function(m,l,j,T){return e("obj.as"),m[l]=m[l]||(T===j?{}:j)},b.obj.ify=b.obj.ify||function(m){if(e("obj.ify"),o(m))return m;try{m=JSON.parse(m)}catch{m={}}return m},function(){var m;function l(j,T){_(this,T)&&m!==this[T]||(this[T]=j)}b.obj.to=b.obj.to||function(j,T){return e("obj.to"),T=T||{},O(j,l,T),T}}(),b.obj.copy=b.obj.copy||function(m){return e("obj.copy"),m&&JSON.parse(JSON.stringify(m))},function(){function m(l,j){var T=this.n,B;if(!(T&&(j===T||o(T)&&_(T,j)))&&B!==j)return!0}b.obj.empty=b.obj.empty||function(l,j){return e("obj.empty"),l?!O(l,m,{n:j}):!0}}(),function(){function m(T,B){if(arguments.length===2){m.r=m.r||{},m.r[T]=B;return}m.r=m.r||[],m.r.push(T)}var l=Object.keys,j;Object.keys=Object.keys||function(T){return j(T,function(B,N,E){E(N)})},b.obj.map=j=b.obj.map||function(T,B,N){e("obj.map");var E,G=0,I,P,U,J,W=typeof B=="function";if(m.r=E,l&&o(T)&&(U=l(T),J=!0),N=N||{},x(T)||U)for(I=(U||T).length;G<I;G++){var q=G+b.list.index;if(W){if(P=J?B.call(N,T[U[G]],U[G],m):B.call(N,T[G],q,m),P!==E)return P}else if(B===T[J?U[G]:G])return U?U[G]:q}else for(G in T)if(W){if(_(T,G)&&(P=N?B.call(N,T[G],G,m):B(T[G],G,m),P!==E))return P}else if(B===T[G])return G;return W?m.r:b.list.index?0:-1}}(),b.time=b.time||{},b.time.is=b.time.is||function(m){return e("time"),m?m instanceof Date:+new Date().getTime()};var c=b.fn.is,x=b.list.is,d=b.obj,o=d.is,_=d.has,O=d.map,t={};t.is=function(m){return e("val.is"),m===C?!1:m===null?!0:m===1/0?!1:s(m)||i(m)||p(m)?!0:t.link.is(m)||!1},t.link=t.rel={_:"#"},function(){t.link.is=function(l){if(e("val.link.is"),l&&l[r]&&!l._&&o(l)){var j={};if(O(l,m,j),j.id)return j.id}return!1};function m(l,j){var T=this;if(T.id)return T.id=!1;if(j==r&&s(l))T.id=l;else return T.id=!1}}(),t.link.ify=function(m){return e("val.link.ify"),$({},r,m)},b.obj.has._=".";var r=t.link._,C,i=b.bi.is,p=b.num.is,s=b.text.is,d=b.obj,o=d.is,$=d.put,O=d.map;b.val=b.val||t;var f={_:"_"};f.soul=function(m,l){return e("node.soul"),m&&m._&&m._[l||u]},f.soul.ify=function(m,l){return e("node.soul.ify"),l=typeof l=="string"?{soul:l}:l||{},m=m||{},m._=m._||{},m._[u]=l.soul||m._[u]||a(),m},f.soul._=t.link._,function(){f.is=function(l,j,T){e("node.is");var B;return o(l)&&(B=f.soul(l))?!O(l,m,{as:T,cb:j,s:B,n:l}):!1};function m(l,j){if(j!==f._){if(!t.is(l))return!0;this.cb&&this.cb.call(this.as,l,j,this.n,this.s)}}}(),function(){f.ify=function(l,j,T){return e("node.ify"),j?typeof j=="string"?j={soul:j}:typeof j=="function"&&(j={map:j}):j={},j.map&&(j.node=j.map.call(T,l,C,j.node||{})),(j.node=f.soul.ify(j.node||{},j))&&O(l,m,{o:j,as:T}),j.node};function m(l,j){var T=this.o,B,N;if(T.map){B=T.map.call(this.as,l,""+j,T.node),N===B?h(T.node,j):T.node&&(T.node[j]=B);return}t.is(l)&&(T.node[j]=l)}}();var d=b.obj,o=d.is,h=d.del,O=d.map,n=b.text,a=n.random,u=f.soul._,C;b.node=b.node||f;var w=b.state;w.lex=function(){return e("state.lex"),w().toString(36).replace(".","")},w.to=function(m,l,j){e("state.to");var T=(m||{})[l];return o(T)&&(T=D(T)),w.ify(j,l,w.is(m,l),T,f.soul(m))},function(){w.map=function(l,j,T){e("state.map");var B,N=o(N=l||j)?N:null;return l=c(l=l||j)?l:null,N&&!l?(j=p(j)?j:w(),N[y]=N[y]||{},O(N,m,{o:N,s:j}),N):(T=T||o(j)?j:B,j=p(j)?j:w(),function(E,G,I,P){if(!l)return m.call({o:I,s:j},E,G),E;l.call(T||this||{},E,G,I,P),!(_(I,G)&&B===I[G])&&m.call({o:I,s:j},E,G)})};function m(l,j){y!==j&&w.ify(this.o,j,this.s)}}();var d=b.obj;d.as;var _=d.has,o=d.is,O=d.map,D=d.copy,k=b.num,p=k.is,v=b.fn,c=v.is,y=f._,C,S={};(function(){S.is=function(j,T,B,N){return e("graph.is"),!j||!o(j)||A(j)?!1:!O(j,m,{cb:T,fn:B,as:N})};function m(j,T){if(!j||T!==f.soul(j)||!f.is(j,this.fn,this.as))return!0;!this.cb||(l.n=j,l.as=this.as,this.cb.call(l.as,j,T,l))}function l(j){j&&f.is(l.n,j,l.as)}})(),function(){S.ify=function(N,E,G){e("graph.ify");var I={path:[],obj:N};return E?typeof E=="string"?E={soul:E}:typeof E=="function"&&(E.map=E):E={},typeof G=="string"&&(E.soul=E.soul||G,G=C),E.soul&&(I.link=t.link.ify(E.soul)),E.shell=(G||{}).shell,E.graph=E.graph||{},E.seen=E.seen||[],E.as=E.as||G,m(E,I),E.root=I.node,E.graph};function m(N,E){var G;return(G=B(N,E))?G:(E.env=N,E.soul=j,f.ify(E.obj,l,E)&&(E.link=E.link||t.link.ify(f.soul(E.node)),E.obj!==N.shell&&(N.graph[t.link.is(E.link)]=E.node)),E)}function l(N,E,G){var I=this,P=I.env,U,J;if(f._===E&&_(N,t.link._))return G._;if(!!(U=T(N,E,G,I,P))){if(E||(I.node=I.node||G||{},_(N,f._)&&f.soul(N)&&(I.node._=D(N._)),I.node=f.soul.ify(I.node,t.link.is(I.link)),I.link=I.link||t.link.ify(f.soul(I.node))),(J=P.map)&&(J.call(P.as||{},N,E,G,I),_(G,E))){if(N=G[E],C===N){h(G,E);return}if(!(U=T(N,E,G,I,P)))return}if(!E)return I.node;if(U===!0)return N;if(J=m(P,{obj:N,path:I.path.concat(E)}),!!J.node)return J.link}}function j(N){var E=this,G=t.link.is(E.link),I=E.env.graph;E.link=E.link||t.link.ify(N),E.link[t.link._]=N,E.node&&E.node[f._]&&(E.node[f._][t.link._]=N),_(I,G)&&(I[N]=I[G],h(I,G))}function T(N,E,G,I,P){var U;if(t.is(N))return!0;if(o(N))return 1;if(U=P.invalid)return N=U.call(P.as||{},N,E,G),T(N,E,G,I,P);P.err="Invalid value at '"+I.path.concat(E).join(".")+"'!",b.list.is(N)&&(P.err+=" Use `.set(item)` instead of an Array.")}function B(N,E){for(var G=N.seen,I=G.length,P;I--;)if(P=G[I],E.obj===P.obj)return P;G.push(E)}}(),S.node=function(m){e("graph.node");var l=f.soul(m);if(!!l)return $({},l,m)},function(){S.to=function(l,j,T){if(e("graph.to"),!!l){var B={};return T=T||{seen:{}},O(l[j],m,{obj:B,graph:l,opt:T}),B}};function m(l,j){var T,B;if(f._===j){if(A(l,t.link._))return;this.obj[j]=D(l);return}if(!(T=t.link.is(l))){this.obj[j]=l;return}if(B=this.opt.seen[T]){this.obj[j]=B;return}this.obj[j]=this.opt.seen[T]=S.to(this.graph,T,this.opt)}}();var c=b.fn.is,d=b.obj,o=d.is,h=d.del,_=d.has,A=d.empty,$=d.put,O=d.map,D=d.copy,C;b.graph=b.graph||S}}()})(ae);var Bt=ae.exports,fe={exports:{}};(function(g){(function(){function e(x,t){return t?It(x):x.slice?e[r(x)]:function(i,s){x(i={exports:{}}),e[r(s)]=i.exports};function r(i){return i.split("/").slice(-1).toString().replace(".js","")}}var b=g;e(function(x){typeof window!="undefined"&&(x.window=window);var t=x.window||x,r,i=t.SEA||{};(i.window=x.window)&&(i.window.SEA=i);try{r+""!=typeof b&&(b.exports=i)}catch{}x.exports=i})(e,"./root"),e(function(x){var t=e("./root");try{t.window&&location.protocol.indexOf("s")<0&&location.host.indexOf("localhost")<0&&!/^127\.\d+\.\d+\.\d+$/.test(location.hostname)&&location.protocol.indexOf("file:")<0&&(console.warn("HTTPS needed for WebCrypto in SEA, redirecting..."),location.protocol="https:")}catch{}})(e,"./https"),e(function(x){var t;if(t+""==typeof btoa){if(t+""==typeof Buffer)try{$t.Buffer=e("buffer",1).Buffer}catch{console.log("Please `npm install buffer` or add it to your package.json !")}$t.btoa=function(r){return Buffer.from(r,"binary").toString("base64")},$t.atob=function(r){return Buffer.from(r,"base64").toString("binary")}}})(e,"./base64"),e(function(x){e("./base64");function t(){}Object.assign(t,{from:Array.from}),t.prototype=Object.create(Array.prototype),t.prototype.toString=function(r,i,s){r=r||"utf8",i=i||0;const f=this.length;if(r==="hex"){const n=new Uint8Array(this);return[...Array((s&&s+1||f)-i).keys()].map(a=>n[a+i].toString(16).padStart(2,"0")).join("")}if(r==="utf8")return Array.from({length:(s||f)-i},(n,a)=>String.fromCharCode(this[a+i])).join("");if(r==="base64")return btoa(this)},x.exports=t})(e,"./array"),e(function(x){e("./base64");var t=e("./array");function r(...i){return console.warn("new SafeBuffer() is depreciated, please use SafeBuffer.from()"),r.from(...i)}r.prototype=Object.create(Array.prototype),Object.assign(r,{from(){if(!Object.keys(arguments).length||arguments[0]==null)throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");const i=arguments[0];let s;if(typeof i=="string"){const n=arguments[1]||"utf8";if(n==="hex"){const a=i.match(/([\da-fA-F]{2})/g).map(u=>parseInt(u,16));if(!a||!a.length)throw new TypeError("Invalid first argument for type 'hex'.");s=t.from(a)}else if(n==="utf8"||n==="binary"){const a=i.length,u=new Uint16Array(a);Array.from({length:a},(w,k)=>u[k]=i.charCodeAt(k)),s=t.from(u)}else if(n==="base64"){const a=atob(i),u=a.length,w=new Uint8Array(u);Array.from({length:u},(k,p)=>w[p]=a.charCodeAt(p)),s=t.from(w)}else n==="binary"?s=t.from(i):console.info("SafeBuffer.from unknown encoding: "+n);return s}if(i.byteLength,i.byteLength?i.byteLength:i.length){let n;return i instanceof ArrayBuffer&&(n=new Uint8Array(i)),t.from(n||i)}},alloc(i,s=0){return t.from(new Uint8Array(Array.from({length:i},()=>s)))},allocUnsafe(i){return t.from(new Uint8Array(Array.from({length:i})))},concat(i){if(!Array.isArray(i))throw new TypeError("First argument must be Array containing ArrayBuffer or Uint8Array instances.");return t.from(i.reduce((s,f)=>s.concat(Array.from(f)),[]))}}),r.prototype.from=r.from,r.prototype.toString=t.prototype.toString,x.exports=r})(e,"./buffer"),e(function(x){const t=e("./root"),r={Buffer:e("./buffer")};var i={},s;if(JSON.parseAsync=JSON.parseAsync||function(n,a,u){var w;try{a(w,JSON.parse(n,u))}catch(k){a(k)}},JSON.stringifyAsync=JSON.stringifyAsync||function(n,a,u,w){var k;try{a(k,JSON.stringify(n,u,w))}catch(p){a(p)}},r.parse=function(n,a){return new Promise(function(u,w){JSON.parseAsync(n,function(k,p){k?w(k):u(p)},a)})},r.stringify=function(n,a,u){return new Promise(function(w,k){JSON.stringifyAsync(n,function(p,v){p?k(p):w(v)},a,u)})},t.window&&(r.crypto=window.crypto||window.msCrypto,r.subtle=(r.crypto||i).subtle||(r.crypto||i).webkitSubtle,r.TextEncoder=window.TextEncoder,r.TextDecoder=window.TextDecoder,r.random=n=>r.Buffer.from(r.crypto.getRandomValues(new Uint8Array(r.Buffer.alloc(n))))),!r.TextDecoder){const{TextEncoder:n,TextDecoder:a}=e((s+""==typeof b?".":"")+"./lib/text-encoding",1);r.TextDecoder=a,r.TextEncoder=n}if(!r.crypto)try{var f=e("crypto",1);Object.assign(r,{crypto:f,random:a=>r.Buffer.from(f.randomBytes(a))});const{Crypto:n}=e("@peculiar/webcrypto",1);r.ossl=r.subtle=new n({directory:"ossl"}).subtle}catch{console.log("Please `npm install @peculiar/webcrypto` or add it to your package.json !")}x.exports=r})(e,"./shim"),e(function(x){var t=e("./root"),r=e("./shim"),i={};i.pbkdf2={hash:{name:"SHA-256"},iter:1e5,ks:64},i.ecdsa={pair:{name:"ECDSA",namedCurve:"P-256"},sign:{name:"ECDSA",hash:{name:"SHA-256"}}},i.ecdh={name:"ECDH",namedCurve:"P-256"},i.jwk=function(s,f){s=s.split(".");var n=s[0],a=s[1],u={kty:"EC",crv:"P-256",x:n,y:a,ext:!0};return u.key_ops=f?["sign"]:["verify"],f&&(u.d=f),u},i.keyToJwk=function(s){const n=s.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");return{kty:"oct",k:n,ext:!1,alg:"A256GCM"}},i.recall={validity:12*60*60,hook:function(s){return s}},i.check=function(s){return typeof s=="string"&&s.slice(0,4)==="SEA{"},i.parse=async function(f){try{var n=typeof f=="string";return n&&f.slice(0,4)==="SEA{"&&(f=f.slice(3)),n?await r.parse(f):f}catch{}return f},t.opt=i,x.exports=i})(e,"./settings"),e(function(x){var t=e("./shim");x.exports=async function(r,i){var s=typeof r=="string"?r:await t.stringify(r),f=await t.subtle.digest({name:i||"SHA-256"},new t.TextEncoder().encode(s));return t.Buffer.from(f)}})(e,"./sha256"),e(function(x){const t=e("./shim"),r=t.subtle,i=t.ossl?t.ossl:r,s=f=>i.digest({name:"SHA-1"},new ArrayBuffer(f));x.exports=s})(e,"./sha1"),e(function(x){var t=e("./root"),r=e("./shim"),i=e("./settings"),s=e("./sha256"),f;t.work=t.work||(async(n,a,u,w)=>{try{var k=(a||{}).epub||a;if(w=w||{},k instanceof Function&&(u=k,k=f),n=typeof n=="string"?n:await r.stringify(n),(w.name||"").toLowerCase().slice(0,3)==="sha"){var p=r.Buffer.from(await s(n,w.name),"binary").toString(w.encode||"base64");if(u)try{u(p)}catch(c){console.log(c)}return p}k=k||r.random(9);var v=await(r.ossl||r.subtle).importKey("raw",new r.TextEncoder().encode(n),{name:w.name||"PBKDF2"},!1,["deriveBits"]),y=await(r.ossl||r.subtle).deriveBits({name:w.name||"PBKDF2",iterations:w.iterations||i.pbkdf2.iter,salt:new r.TextEncoder().encode(w.salt||k),hash:w.hash||i.pbkdf2.hash},v,w.length||i.pbkdf2.ks*8);n=r.random(n.length);var S=r.Buffer.from(y,"binary").toString(w.encode||"base64");if(u)try{u(S)}catch(c){console.log(c)}return S}catch(c){if(console.log(c),t.err=c,t.throw)throw c;u&&u();return}}),x.exports=t.work})(e,"./work"),e(function(x){var t=e("./root"),r=e("./shim");e("./settings"),t.name=t.name||(async(i,s)=>{try{if(i)try{i()}catch(f){console.log(f)}return}catch(f){if(console.log(f),t.err=f,t.throw)throw f;i&&i();return}}),t.pair=t.pair||(async(i,s)=>{try{var f=r.ossl||r.subtle,n=await r.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]).then(async w=>{var k={};k.priv=(await r.subtle.exportKey("jwk",w.privateKey)).d;var p=await r.subtle.exportKey("jwk",w.publicKey);return k.pub=p.x+"."+p.y,k});try{var a=await f.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]).then(async w=>{var k={};k.epriv=(await f.exportKey("jwk",w.privateKey)).d;var p=await f.exportKey("jwk",w.publicKey);return k.epub=p.x+"."+p.y,k})}catch(w){if(t.window)throw w;if(w=="Error: ECDH is not a supported algorithm")console.log("Ignoring ECDH...");else throw w}a=a||{};var u={pub:n.pub,priv:n.priv,epub:a.epub,epriv:a.epriv};if(i)try{i(u)}catch(w){console.log(w)}return u}catch(w){if(console.log(w),t.err=w,t.throw)throw w;i&&i();return}}),x.exports=t.pair})(e,"./pair"),e(function(x){var t=e("./root"),r=e("./shim"),i=e("./settings"),s=e("./sha256"),f;t.sign=t.sign||(async(n,a,u,w)=>{try{if(w=w||{},!(a||w).priv){if(!t.I)throw"No signing key.";a=await t.I(null,{what:n,how:"sign",why:w.why})}if(f===n)throw"`undefined` not allowed.";var k=await i.parse(n),p=w.check=w.check||k;if(t.verify&&(t.opt.check(p)||p&&p.s&&p.m)&&f!==await t.verify(p,a)){var o=await i.parse(p);if(w.raw||(o="SEA"+await r.stringify(o)),u)try{u(o)}catch(_){console.log(_)}return o}var v=a.pub,y=a.priv,S=i.jwk(v,y),c=await s(k),d=await(r.ossl||r.subtle).importKey("jwk",S,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"]).then(h=>(r.ossl||r.subtle).sign({name:"ECDSA",hash:{name:"SHA-256"}},h,new Uint8Array(c))),o={m:k,s:r.Buffer.from(d,"binary").toString(w.encode||"base64")};if(w.raw||(o="SEA"+await r.stringify(o)),u)try{u(o)}catch(h){console.log(h)}return o}catch(h){if(console.log(h),t.err=h,t.throw)throw h;u&&u();return}}),x.exports=t.sign})(e,"./sign"),e(function(x){var t=e("./root"),r=e("./shim"),i=e("./settings"),s=e("./sha256"),f;t.verify=t.verify||(async(u,w,k,p)=>{try{var v=await i.parse(u);if(w===!1){var y=await i.parse(v.m);if(k)try{k(y)}catch(O){console.log(O)}return y}p=p||{};var S=w.pub||w,c=t.opt.slow_leak?await t.opt.slow_leak(S):await(r.ossl||r.subtle).importKey("jwk",i.jwk(S),{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),d=await s(v.m),o,h,_,A;try{if(o=r.Buffer.from(v.s,p.encode||"base64"),h=new Uint8Array(o),_=await(r.ossl||r.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},c,h,new Uint8Array(d)),!_)throw"Signature did not match."}catch{if(t.opt.fallback)return await t.opt.fall_verify(u,w,k,p)}var $=_?await i.parse(v.m):f;if(k)try{k($)}catch(O){console.log(O)}return $}catch(O){if(console.log(O),t.err=O,t.throw)throw O;k&&k();return}}),x.exports=t.verify;var n={};t.opt.slow_leak=u=>{if(n[u])return n[u];var w=i.jwk(u);return n[u]=(r.ossl||r.subtle).importKey("jwk",w,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),n[u]};var a=t.opt;t.opt.fall_verify=async function(u,w,k,p,v){if(v===t.opt.fallback)throw"Signature did not match";v=v||1;var y=u||"";u=t.opt.unpack(u)||u;var S=await i.parse(u),c=w.pub||w,d=await t.opt.slow_leak(c),o=v<=t.opt.fallback?r.Buffer.from(await r.subtle.digest({name:"SHA-256"},new r.TextEncoder().encode(await i.parse(S.m)))):await s(S.m),h,_,A;try{if(h=r.Buffer.from(S.s,p.encode||"base64"),_=new Uint8Array(h),A=await(r.ossl||r.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},d,_,new Uint8Array(o)),!A)throw"Signature did not match."}catch{try{h=r.Buffer.from(S.s,"utf8"),_=new Uint8Array(h),A=await(r.ossl||r.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},d,_,new Uint8Array(o))}catch{if(!A)throw"Signature did not match."}}var $=A?await i.parse(S.m):f;if(a.fall_soul=y["#"],a.fall_key=y["."],a.fall_val=u,a.fall_state=y[">"],k)try{k($)}catch(O){console.log(O)}return $},t.opt.fallback=2})(e,"./verify"),e(function(x){var t=e("./shim"),r=e("./settings"),i=e("./sha256");const s=async(f,n,a)=>{const u=f+(n||t.random(8)).toString("utf8"),w=t.Buffer.from(await i(u),"binary"),k=r.keyToJwk(w);return await t.subtle.importKey("jwk",k,{name:"AES-GCM"},!1,["encrypt","decrypt"])};x.exports=s})(e,"./aeskey"),e(function(x){var t=e("./root"),r=e("./shim");e("./settings");var i=e("./aeskey"),s;t.encrypt=t.encrypt||(async(f,n,a,u)=>{try{u=u||{};var w=(n||u).epriv||n;if(s===f)throw"`undefined` not allowed.";if(!w){if(!t.I)throw"No encryption key.";n=await t.I(null,{what:f,how:"encrypt",why:u.why}),w=n.epriv||n}var k=typeof f=="string"?f:await r.stringify(f),p={s:r.random(9),iv:r.random(15)},v=await i(w,p.s,u).then(S=>r.subtle.encrypt({name:u.name||"AES-GCM",iv:new Uint8Array(p.iv)},S,new r.TextEncoder().encode(k))),y={ct:r.Buffer.from(v,"binary").toString(u.encode||"base64"),iv:p.iv.toString(u.encode||"base64"),s:p.s.toString(u.encode||"base64")};if(u.raw||(y="SEA"+await r.stringify(y)),a)try{a(y)}catch(S){console.log(S)}return y}catch(S){if(console.log(S),t.err=S,t.throw)throw S;a&&a();return}}),x.exports=t.encrypt})(e,"./encrypt"),e(function(x){var t=e("./root"),r=e("./shim"),i=e("./settings"),s=e("./aeskey");t.decrypt=t.decrypt||(async(f,n,a,u)=>{try{u=u||{};var w=(n||u).epriv||n;if(!w){if(!t.I)throw"No decryption key.";n=await t.I(null,{what:f,how:"decrypt",why:u.why}),w=n.epriv||n}var k=await i.parse(f),p,v,y;try{p=r.Buffer.from(k.s,u.encode||"base64"),v=r.Buffer.from(k.iv,u.encode||"base64"),y=r.Buffer.from(k.ct,u.encode||"base64");var S=await s(w,p,u).then(d=>r.subtle.decrypt({name:u.name||"AES-GCM",iv:new Uint8Array(v),tagLength:128},d,new Uint8Array(y)))}catch{if(u.encode==="utf8")throw"Could not decrypt";if(t.opt.fallback)return u.encode="utf8",await t.decrypt(f,n,a,u)}var c=await i.parse(new r.TextDecoder("utf8").decode(S));if(a)try{a(c)}catch(d){console.log(d)}return c}catch(d){if(console.log(d),t.err=d,t.throw)throw d;a&&a();return}}),x.exports=t.decrypt})(e,"./decrypt"),e(function(x){var t=e("./root"),r=e("./shim");e("./settings"),t.secret=t.secret||(async(s,f,n,a)=>{try{if(a=a||{},!f||!f.epriv||!f.epub){if(!t.I)throw"No secret mix.";f=await t.I(null,{what:s,how:"secret",why:a.why})}var u=s.epub||s,w=f.epub,k=f.epriv,p=r.ossl||r.subtle,v=i(u),y=Object.assign({public:await p.importKey(...v,!0,[])},{name:"ECDH",namedCurve:"P-256"}),S=i(w,k),c=await p.importKey(...S,!1,["deriveBits"]).then(async o=>{var h=await p.deriveBits(y,o,256),_=new Uint8Array(h),A=await p.importKey("raw",_,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);return p.exportKey("jwk",A).then(({k:$})=>$)}),d=c;if(n)try{n(d)}catch(o){console.log(o)}return d}catch(o){if(console.log(o),t.err=o,t.throw)throw o;n&&n();return}});var i=(s,f)=>{var[n,a]=s.split("."),u=f?{d:f}:{};return["jwk",Object.assign(u,{x:n,y:a,kty:"EC",crv:"P-256",ext:!0}),{name:"ECDH",namedCurve:"P-256"}]};x.exports=t.secret})(e,"./secret"),e(function(x){var t=e("./root");t.certify=t.certify||(async(r,i={},s,f,n={})=>{try{if(console.log("SEA.certify() is an early experimental community supported method that may change API behavior without warning in any future version."),r=(()=>{var d=[];if(r){if((typeof r=="string"||Array.isArray(r))&&r.indexOf("*")>-1)return"*";if(typeof r=="string")return r;if(Array.isArray(r)){if(r.length===1&&r[0])return typeof r[0]=="object"&&r[0].pub?r[0].pub:typeof r[0]=="string"?r[0]:null;r.map(o=>{typeof o=="string"?d.push(o):typeof o=="object"&&o.pub&&d.push(o.pub)})}return typeof r=="object"&&r.pub?r.pub:d.length>0?d:null}})(),!r)return console.log("No certificant found.");const u=n.expiry&&(typeof n.expiry=="number"||typeof n.expiry=="string")?parseFloat(n.expiry):null,w=(i||{}).read?i.read:null,k=(i||{}).write?i.write:typeof i=="string"||Array.isArray(i)||i["+"]||i["#"]||i["."]||i["="]||i["*"]||i[">"]||i["<"]?i:null,p=(n||{}).block||(n||{}).blacklist||(n||{}).ban||{},v=p.read&&(typeof p.read=="string"||(p.read||{})["#"])?p.read:null,y=typeof p=="string"?p:p.write&&(typeof p.write=="string"||p.write["#"])?p.write:null;if(!w&&!k)return console.log("No policy found.");const S=JSON.stringify(it(it(it(it(it({c:r},u?{e:u}:{}),w?{r:w}:{}),k?{w:k}:{}),v?{rb:v}:{}),y?{wb:y}:{}));var a=await t.sign(S,s,null,{raw:1});if(n.raw||(a="SEA"+JSON.stringify(a)),f)try{f(a)}catch(d){console.log(d)}return a}catch(u){if(t.err=u,t.throw)throw u;f&&f();return}}),x.exports=t.certify})(e,"./certify"),e(function(x){var t=e("./shim"),r=e("./root");r.work=e("./work"),r.sign=e("./sign"),r.verify=e("./verify"),r.encrypt=e("./encrypt"),r.decrypt=e("./decrypt"),r.certify=e("./certify"),r.random=r.random||t.random,r.Buffer=r.Buffer||e("./buffer"),r.keyid=r.keyid||(async i=>{try{const s=t.Buffer.concat(i.replace(/-/g,"+").replace(/_/g,"/").split(".").map(u=>t.Buffer.from(u,"base64"))),f=t.Buffer.concat([t.Buffer.from([153,s.length/256,s.length%256]),s]),n=await sha1hash(f),a=t.Buffer.from(n,"binary");return a.toString("hex",a.length-8)}catch(s){throw console.log(s),s}}),((r.window||{}).GUN||{}).SEA=r,x.exports=r})(e,"./sea"),e(function(x){var t=e("./sea"),r,i;t.window?r=t.window.GUN||{chain:{}}:r=e((i+""==typeof b?".":"")+"./gun",1),t.GUN=r;function s(n){this._={$:this}}s.prototype=function(){function n(){}return n.prototype=r.chain,new n}(),s.prototype.constructor=s,r.chain.user=function(n){var a=this,w=a.back(-1),u;if(n)return n=t.opt.pub((n._||"")["#"])||n,w.get("~"+n);if(u=w.back("user"))return u;var w=w._,k=w,p=k.opt.uuid||f;return(k=(u=k.user=a.chain(new s))._).opt={},k.opt.uuid=function(v){var y=p(),S=w.user;return!S||!(S=S.is)||!(S=S.pub)||(y="~"+S+"/"+y,v&&v.call&&v(null,y)),y},u};function f(){return r.state().toString(36).replace(".","")}r.User=s,s.GUN=r,s.SEA=r.SEA=t,x.exports=s})(e,"./user"),e(function(x){var t,r=""+t!=typeof window?window.Gun||{chain:{}}:e((""+t==typeof b?".":"")+"./gun",1);r.chain.then=function(i,s){var f=this,n=new Promise(function(a,u){f.once(a,s)});return i?n.then(i):n}})(e,"./then"),e(function(x){var t=e("./user"),r=t.SEA,i=t.GUN,s=function(){};t.prototype.create=function(...f){var n=typeof f[0]=="object"&&(f[0].pub||f[0].epub)?f[0]:typeof f[1]=="object"&&(f[1].pub||f[1].epub)?f[1]:null,a=n&&(n.pub||n.epub)?n.pub:typeof f[0]=="string"?f[0]:null,u=n&&(n.pub||n.epub)?n:a&&typeof f[1]=="string"?f[1]:null,w=f.filter(d=>typeof d=="function")[0]||null,k=f&&f.length>1&&typeof f[f.length-1]=="object"?f[f.length-1]:{},p=this,v=p._,y=p.back(-1);if(w=w||s,k=k||{},k.check!==!1){var S;if(a||(S="No user."),(u||"").length<8&&(S="Password too short!"),S)return w({err:i.log(S)}),p}if(v.ing)return(w||s)({err:i.log("User is already being created or authenticated!"),wait:!0}),p;v.ing=!0;var c={};return c.a=function(d){if(c.pubs=d,d&&!k.already){var o={err:i.log("User already created!")};v.ing=!1,(w||s)(o),p.leave();return}c.salt=String.random(64),r.work(u,c.salt,c.b)},c.b=function(d){c.proof=d,n?c.c(n):r.pair(c.c)},c.c=function(d){var o;c.pair=d||{},(o=v.root.user)&&(o._.sea=d,o.is={pub:d.pub,epub:d.epub,alias:a}),c.data={pub:d.pub},c.d()},c.d=function(){c.data.alias=a,c.e()},c.e=function(){c.data.epub=c.pair.epub,r.encrypt({priv:c.pair.priv,epriv:c.pair.epriv},c.proof,c.f,{raw:1})},c.f=function(d){c.data.auth=JSON.stringify({ek:d,s:c.salt}),c.g(c.data.auth)},c.g=function(d){var o;c.data.auth=c.data.auth||d,y.get(o="~"+c.pair.pub).put(c.data).on(c.h);var h={};h[o]={"#":o},y.get("~@"+a).put(h).get(o).on(c.i)},c.h=function(d,o,h,_){_.off(),c.h.ok=1,c.i()},c.i=function(d,o,h,_){_&&(c.i.ok=1,_.off()),!(!c.h.ok||!c.i.ok)&&(v.ing=!1,w({ok:0,pub:c.pair.pub}),s===w&&(n?p.auth(n):p.auth(a,u)))},y.get("~@"+a).once(c.a),p},t.prototype.leave=function(f,n){var a=this,u=a.back(-1)._.user;if(u&&(delete u.is,delete u._.is,delete u._.sea),r.window)try{var w={};w=window.sessionStorage,delete w.recall,delete w.pair}catch{}return a}})(e,"./create"),e(function(x){var t=e("./user"),r=t.SEA,i=t.GUN,s=function(){};t.prototype.auth=function(...n){var a=typeof n[0]=="object"&&(n[0].pub||n[0].epub)?n[0]:typeof n[1]=="object"&&(n[1].pub||n[1].epub)?n[1]:null,u=!a&&typeof n[0]=="string"?n[0]:null,w=u&&typeof n[1]=="string"?n[1]:null,k=n.filter(o=>typeof o=="function")[0]||null,p=n&&n.length>1&&typeof n[n.length-1]=="object"?n[n.length-1]:{},v=this,y=v._,S=v.back(-1);if(y.ing)return(k||s)({err:i.log("User is already being created or authenticated!"),wait:!0}),v;y.ing=!0;var c={},d;return c.a=function(o){if(!o)return c.b();if(!o.pub){var h=[];return Object.keys(o).forEach(function(_){_!="_"&&h.push(o[_])}),c.b(h)}if(c.name)return c.f(o);c.c((c.data=o).auth)},c.b=function(o){var h=(c.list=(c.list||[]).concat(o||[])).shift();if(d===h)return c.name?c.err("Your user account is not published for dApps to access, please consider syncing it online, or allowing local access by adding your device as a peer."):c.err("Wrong user or password.");S.get(h).once(c.a)},c.c=function(o){if(d===o)return c.b();if(typeof o=="string")return c.c(f(o));r.work(w,(c.auth=o).s,c.d,c.enc)},c.d=function(o){r.decrypt(c.auth.ek,o,c.e,c.enc)},c.e=function(o){if(d===o)return c.enc?(c.enc=null,c.b()):(c.enc={encode:"utf8"},c.c(c.auth));c.half=o,c.f(c.data)},c.f=function(o){var h=c.half||{},_=c.data||{};c.g(c.lol={pub:o.pub||_.pub,epub:o.epub||_.epub,priv:o.priv||h.priv,epriv:o.epriv||h.epriv})},c.g=function(o){if(!o||!o.pub||!o.epub)return c.b();c.pair=o;var h=S._.user,_=h._;_.tag;var A=_.opt;_=h._=S.get("~"+o.pub)._,_.opt=A,h.is={pub:o.pub,epub:o.epub,alias:u||o.pub},_.sea=c.pair,y.ing=!1;try{w&&d==(f(y.root.graph["~"+o.pub].auth)||"")[":"]&&(p.shuffle=p.change=w)}catch{}if(p.change?c.z():(k||s)(_),r.window&&(v.back("user")._.opt||p).remember)try{var $={};$=window.sessionStorage,$.recall=!0,$.pair=JSON.stringify(o)}catch{}try{S._.tag.auth?S._.on("auth",_):setTimeout(function(){S._.on("auth",_)},1)}catch(O){i.log("Your 'auth' callback crashed with:",O)}},c.z=function(){c.salt=String.random(64),r.work(p.change,c.salt,c.y)},c.y=function(o){r.encrypt({priv:c.pair.priv,epriv:c.pair.epriv},o,c.x,{raw:1})},c.x=function(o){c.w(JSON.stringify({ek:o,s:c.salt}))},c.w=function(o){if(p.shuffle){console.log("migrate core account from UTF8 & shuffle");var h={};Object.keys(c.data).forEach(function(_){h[_]=c.data[_]}),delete h._,h.auth=o,S.get("~"+c.pair.pub).put(h)}S.get("~"+c.pair.pub).get("auth").put(o,k||s)},c.err=function(o){var h={err:i.log(o||"User cannot be found!")};y.ing=!1,(k||s)(h)},c.plugin=function(o){if(!(c.name=o))return c.err();var h=[o];o[0]!=="~"&&(h[1]="~"+o,h[2]="~@"+o),c.b(h)},a?c.g(a):u?S.get("~@"+u).once(c.a):!u&&!w&&r.name(c.plugin),v};function f(n){if(typeof n!="string")return n;try{n=JSON.parse(n)}catch{n={}}return n}})(e,"./auth"),e(function(x){var t=e("./user"),r=t.SEA;t.GUN,t.prototype.recall=function(i,s){var f=this,n=f.back(-1);if(i=i||{},i&&i.sessionStorage){if(r.window)try{var a={};a=window.sessionStorage,a&&(n._.opt.remember=!0,(f.back("user")._.opt||i).remember=!0,(a.recall||a.pair)&&n.user().auth(JSON.parse(a.pair),s))}catch{}return f}return f}})(e,"./recall"),e(function(x){var t=e("./user"),r=t.SEA,i=t.GUN,s=function(){};t.prototype.pair=function(){var f=this,n;try{n=new Proxy({DANGER:"\u2620"},{get:function(a,u,w){if(!(!f.is||!(f._||"").sea))return f._.sea[u]}})}catch{}return n},t.prototype.delete=async function(f,n,a){console.log("user.delete() IS DEPRECATED AND WILL BE MOVED TO A MODULE!!!");var u=this;u.back(-1);var w=u.back("user");try{w.auth(f,n,function(k){var p=(w.is||{}).pub;w.map().once(function(){this.put(null)}),w.leave(),(a||s)({ok:0})})}catch(k){i.log("User.delete failed! Error:",k)}return u},t.prototype.alive=async function(){console.log("user.alive() IS DEPRECATED!!!");const f=this.back(-1);try{return await authRecall(f),f._.user._}catch{const a="No session!";throw i.log(a),{err:a}}},t.prototype.trust=async function(f){console.log("`.trust` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!"),i.is(f)&&f.get("pub").get((n,a)=>{console.log(n,a)}),f.get("trust").get(path).put(theirPubkey)},t.prototype.grant=function(f,n){console.log("`.grant` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var a=this,u=a.back(-1).user(),w=u._.sea,k="";return a.back(function(p){p.is||(k+=p.get||"")}),async function(){var p,v=await u.get("grant").get(w.pub).get(k).then();v=await r.decrypt(v,w),v||(v=r.random(16).toString(),p=await r.encrypt(v,w),u.get("grant").get(w.pub).get(k).put(p));var y=f.get("pub").then(),S=f.get("epub").then();y=await y,S=await S;var c=await r.secret(S,w);p=await r.encrypt(v,c),u.get("grant").get(y).get(k).put(p,n)}(),a},t.prototype.secret=function(f,n){console.log("`.secret` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var a=this,u=a.back(-1).user(),w=u.pair(),k="";return a.back(function(p){p.is||(k+=p.get||"")}),async function(){var p,v=await u.get("trust").get(w.pub).get(k).then();v=await r.decrypt(v,w),v||(v=r.random(16).toString(),p=await r.encrypt(v,w),u.get("trust").get(w.pub).get(k).put(p)),p=await r.encrypt(f,v),a.put(p,n)}(),a},x.exports=t})(e,"./share"),e(function(x){var t=e("./sea"),r=e("./settings"),i=function(){},s,f=""+s!=typeof window?window.Gun||{on:i}:e((""+s==typeof b?".":"")+"./gun",1);f.on("opt",function(v){v.sea||(v.sea={own:{}},v.on("put",n,v)),this.to.next(v)});function n(v){var y=this,S=y.as,c=v.put,d=c["#"],o=c["."],h=c[":"],_=c[">"],A=v["#"],$;if(!(!d||!o)){if((v._||"").faith&&(S.opt||"").faith&&typeof v._=="function"){t.opt.pack(c,function(D){t.verify(D,!1,function(C){c["="]=t.opt.unpack(C),y.to.next(v)})});return}var O=function(D){S.on("in",{"@":A,err:v.err=D})};if((v._||"").DBG&&((v._||"").DBG.c=+new Date),0<=d.indexOf("<?")&&($=parseFloat(d.split("<?")[1]||""),$&&_<f.state()-$*1e3)){($=v._)&&$.stun&&$.stun--;return}if(d==="~@"){n.alias(y,v,h,o,d,S,O);return}if(d.slice(0,2)==="~@"){n.pubs(y,v,h,o,d,S,O);return}if($=t.opt.pub(d)){n.pub(y,v,h,o,d,S,O,S.user||"",$);return}if(0<=d.indexOf("#")){n.hash(y,v,h,o,d,S,O);return}n.any(y,v,h,o,d,S,O,S.user||"")}}n.hash=function(v,y,S,c,d,o,h){t.work(S,null,function(_){if(_&&_===c.split("#").slice(-1)[0])return v.to.next(y);h("Data hash not same as hash!")},{name:"SHA-256"})},n.alias=function(v,y,S,c,d,o,h){if(!S)return h("Data must exist!");if("~@"+c===u(S))return v.to.next(y);h("Alias not same!")},n.pubs=function(v,y,S,c,d,o,h){if(!S)return h("Alias must exist!");if(c===u(S))return v.to.next(y);h("Alias not same!")},n.pub=async function(v,y,S,c,d,o,h,_,A){var $;const O=await r.parse(S)||{},D=(C,m,l)=>{if(C.m&&C.s&&m&&A)return t.verify(C,A,j=>{if(s!==j&&s!==j.e&&y.put[">"]&&y.put[">"]>parseFloat(j.e))return h("Certificate expired.");if(s!==j&&j.c&&j.w&&(j.c===m||j.c.indexOf("*")>-1)){let B=d.indexOf("/")>-1?d.replace(d.substring(0,d.indexOf("/")+1),""):"";String.match=String.match||f.text.match;const N=Array.isArray(j.w)?j.w:typeof j.w=="object"||typeof j.w=="string"?[j.w]:[];for(const E of N)if(String.match(B,E["#"])&&String.match(c,E["."])||!E["."]&&String.match(B,E["#"])||!E["#"]&&String.match(c,E["."])||String.match(B?B+"/"+c:c,E["#"]||E)){if(E["+"]&&E["+"].indexOf("*")>-1&&B&&B.indexOf(m)==-1&&c.indexOf(m)==-1)return h(`Path "${B}" or key "${c}" must contain string "${m}".`);if(j.wb&&(typeof j.wb=="string"||(j.wb||{})["#"])){var T=v.as.root.$.back(-1);return typeof j.wb=="string"&&j.wb.slice(0,1)!=="~"&&(T=T.get("~"+A)),T.get(j.wb).get(m).once(G=>G&&(G===1||G===!0)?h(`Certificant ${m} blocked.`):l(j))}return l(j)}return h("Certificate verification fail.")}})};if(c==="pub"&&"~"+A===d)return S===A?v.to.next(y):h("Account not same!");if(($=_.is)&&$.pub&&!O["*"]&&!O["+"]&&(A===$.pub||A!==$.pub&&((y._.msg||{}).opt||{}).cert)){t.opt.pack(y.put,C=>{t.sign(C,_._.sea,async function(m){if(s===m)return h(t.err||"Signature fail.");if(y.put[":"]={":":$=t.opt.unpack(m.m),"~":m.s},y.put["="]=$,A===_.is.pub){($=u(S))&&((o.sea.own[$]=o.sea.own[$]||{})[A]=1),JSON.stringifyAsync(y.put[":"],function(l,j){return l?h(l||"Stringify error."):(y.put[":"]=j,v.to.next(y))});return}if(A!==_.is.pub&&((y._.msg||{}).opt||{}).cert){const l=await r.parse(y._.msg.opt.cert);l&&l.m&&l.s&&D(l,_.is.pub,j=>{y.put[":"]["+"]=l,y.put[":"]["*"]=_.is.pub,JSON.stringifyAsync(y.put[":"],function(T,B){return T?h(T||"Stringify error."):(y.put[":"]=B,v.to.next(y))})})}},{raw:1})});return}t.opt.pack(y.put,C=>{t.verify(C,O["*"]||A,function(m){var l;if(m=t.opt.unpack(m),s===m)return h("Unverified data.");if((l=u(m))&&A===t.opt.pub(l)&&((o.sea.own[l]=o.sea.own[l]||{})[A]=1),O["+"]&&O["+"].m&&O["+"].s&&O["*"])D(O["+"],O["*"],j=>(y.put["="]=m,v.to.next(y)));else return y.put["="]=m,v.to.next(y)})})},n.any=function(v,y,S,c,d,o,h,_){if(o.opt.secure)return h("Soul missing public key at '"+c+"'.");o.on("secure",function(A){if(this.off(),!o.opt.secure)return v.to.next(A);h("Data cannot be changed.")}).on.on("secure",y)};var a=f.valid,u=function(v,y){return typeof(y=a(v))=="string"&&y};(f.state||"").ify;var w=/[^\w_-]/;t.opt.pub=function(v){if(!!v&&(v=v.split("~"),!(!v||!(v=v[1]))&&(v=v.split(w).slice(0,2),!(!v||v.length!=2)&&(v[0]||"")[0]!=="@")))return v=v.slice(0,2).join("."),v},t.opt.stringy=function(v){},t.opt.pack=function(v,y,S,c,d){var o,h;if(t.opt.check(v))return y(v);v&&v["#"]&&v["."]&&v[">"]&&(o=v[":"],h=1),JSON.parseAsync(h?o:v,function(_,A){var $=s!==(A||"")[":"]&&(A||"")["~"];if(!$){y(v);return}y({m:{"#":d||v["#"],".":S||v["."],":":(A||"")[":"],">":v[">"]||f.state.is(c,S)},s:$})})};var k=t.opt;t.opt.unpack=function(v,y,S){var c;if(s!==v){if(v&&s!==(c=v[":"]))return c;if(y=y||k.fall_key,!S&&k.fall_val&&(S={},S[y]=k.fall_val),!(!y||!S)){if(v===S[y]||!t.opt.check(S[y]))return v;var d=S&&S._&&S._["#"]||k.fall_soul,o=f.state.is(S,y)||k.fall_state;if(v&&v.length===4&&d===v[0]&&y===v[1]&&p(o)===p(v[3]))return v[2];if(o<t.opt.shuffle_attack)return v}}},t.opt.shuffle_attack=15463296e5;var p=Math.floor})(e,"./index")})()})(fe);var Wt=fe.exports,$e={exports:{}};(function(g){(function(){function e(x,t){return t?It(x):x.slice?e[r(x)]:function(i,s){x(i={exports:{}}),e[r(s)]=i.exports};function r(i){return i.split("/").slice(-1).toString().replace(".js","")}}var b=g;e(function(x){typeof window!="undefined"&&(x.window=window);var t=x.window||x,r=t.AXE||function(){};(r.window=x.window)&&(r.window.AXE=r);try{typeof b!="undefined"&&(b.exports=r)}catch{}x.exports=r})(e,"./root"),e(function(x){var t=e("./root"),r=(t.window||"").Gun||e("./gun",1);if((r.AXE=t).GUN=t.Gun=r,!r.window)try{e("./lib/axe",1)}catch{}r.on("opt",function(s){i(s),this.to.next(s)});function i(s){if(!s.axe){var f=s.opt,n=f.peers;if(f.axe!==!1&&!(typeof process!="undefined"&&""+(process.env||"").AXE=="false")&&!!r.window){s.axe={};var a,u;a=n[u="http://localhost:8765/gun"]=n[u]||{},a.id=a.url=u,a.retry=a.retry||0,r.log.once("AXE","AXE enabled: Trying to find network via (1) local peer (2) last used peers (3) hard coded peers."),r.log.once("AXEWarn","Warning: AXE alpha became super slow & laggy, now in testing only mode!");var w=JSON.parse((localStorage||"")[(f.file||"")+"axe/"]||null)||{};Object.keys(w.peers||"").forEach(function(p){a=n[u=p]=n[u]||{},a.id=a.url=u}),a=n[u="https://guntest.herokuapp.com/gun"]=n[u]||{},a.id=a.url=u;var k=f.mesh=f.mesh||r.Mesh(s);k.way=function(p){if(s.$===p.$||(p._||"").via){k.say(p,f.peers);return}var v=(p.$||"")._;if(!v){k.say(p,f.peers);return}if(p.get){if(v.axe)return;v.axe={}}k.say(p,f.peers)}}}}x.exports=t})(e,"./axe")})()})($e);const ot=[];function Oe(g,e=X){let b;const x=new Set;function t(s){if(ft(g,s)&&(g=s,b)){const f=!ot.length;for(const n of x)n[1](),ot.push(n,g);if(f){for(let n=0;n<ot.length;n+=2)ot[n][0](ot[n+1]);ot.length=0}}}function r(s){t(s(g))}function i(s,f=X){const n=[s,f];return x.add(n),x.size===1&&(b=e(t)||X),s(g),()=>{x.delete(n),x.size===0&&(b(),b=null)}}return{set:t,update:r,subscribe:i}}const se=Bt(),at=se.user().recall({sessionStorage:!0}),vt=Oe("");at.get("alias").on(g=>vt.set(g));se.on("auth",async g=>{const e=await at.get("alias");vt.set(e),console.log(`signed in as ${e}`)});function Ee(g){let e;return{c(){e=R("h3"),e.textContent="Gun.js Chat app"},m(b,x){K(b,e,x)},p:X,d(b){b&&M(e)}}}function De(g){let e,b,x,t,r,i,s,f,n,a,u;return{c(){e=R("span"),b=Q("Hello, "),x=R("string"),t=Q(g[0]),r=F(),i=R("img"),f=F(),n=R("button"),n.textContent="Sign out",Et(i.src,s=`https://avatars.dicebear.com/api/initials/${g[0]}.svg`)||H(i,"src",s),H(i,"alt","avatar"),H(n,"class","signout")},m(w,k){K(w,e,k),L(e,b),L(e,x),L(x,t),K(w,r,k),K(w,i,k),K(w,f,k),K(w,n,k),a||(u=V(n,"click",g[1]),a=!0)},p(w,k){k&1&&re(t,w[0]),k&1&&!Et(i.src,s=`https://avatars.dicebear.com/api/initials/${w[0]}.svg`)&&H(i,"src",s)},d(w){w&&M(e),w&&M(r),w&&M(i),w&&M(f),w&&M(n),a=!1,u()}}}function Ne(g){let e,b,x;function t(s,f){return s[0]?De:Ee}let r=t(g),i=r(g);return{c(){e=R("header"),b=R("h1"),b.textContent="\u{1F52B}\u{1F4AC}",x=F(),i.c()},m(s,f){K(s,e,f),L(e,b),L(e,x),i.m(e,null)},p(s,[f]){r===(r=t(s))&&i?i.p(s,f):(i.d(1),i=r(s),i&&(i.c(),i.m(e,null)))},i:X,o:X,d(s){s&&M(e),i.d()}}}function Ge(g,e,b){let x;ee(g,vt,r=>b(0,x=r));function t(){at.leave(),vt.set("")}return[x,t]}class Be extends gt{constructor(e){super(),wt(this,e,Ge,Ne,ft,{})}}var Ce=typeof global=="object"&&global&&global.Object===Object&&global,Ie=Ce,Pe=typeof self=="object"&&self&&self.Object===Object&&self,Ue=Ie||Pe||Function("return this")(),ce=Ue,Je=ce.Symbol,At=Je,le=Object.prototype,Me=le.hasOwnProperty,Ke=le.toString,ct=At?At.toStringTag:void 0;function Re(g){var e=Me.call(g,ct),b=g[ct];try{g[ct]=void 0;var x=!0}catch{}var t=Ke.call(g);return x&&(e?g[ct]=b:delete g[ct]),t}var He=Object.prototype,We=He.toString;function Le(g){return We.call(g)}var Fe="[object Null]",qe="[object Undefined]",Lt=At?At.toStringTag:void 0;function Xe(g){return g==null?g===void 0?qe:Fe:Lt&&Lt in Object(g)?Re(g):Le(g)}function ze(g){return g!=null&&typeof g=="object"}var Ve="[object Symbol]";function Ye(g){return typeof g=="symbol"||ze(g)&&Xe(g)==Ve}var Qe=/\s/;function Ze(g){for(var e=g.length;e--&&Qe.test(g.charAt(e)););return e}var tn=/^\s+/;function en(g){return g&&g.slice(0,Ze(g)+1).replace(tn,"")}function Ct(g){var e=typeof g;return g!=null&&(e=="object"||e=="function")}var Ft=0/0,nn=/^[-+]0x[0-9a-f]+$/i,rn=/^0b[01]+$/i,on=/^0o[0-7]+$/i,un=parseInt;function qt(g){if(typeof g=="number")return g;if(Ye(g))return Ft;if(Ct(g)){var e=typeof g.valueOf=="function"?g.valueOf():g;g=Ct(e)?e+"":e}if(typeof g!="string")return g===0?g:+g;g=en(g);var b=rn.test(g);return b||on.test(g)?un(g.slice(2),b?2:8):nn.test(g)?Ft:+g}var an=function(){return ce.Date.now()},Ot=an,fn="Expected a function",sn=Math.max,cn=Math.min;function ln(g,e,b){var x,t,r,i,s,f,n=0,a=!1,u=!1,w=!0;if(typeof g!="function")throw new TypeError(fn);e=qt(e)||0,Ct(b)&&(a=!!b.leading,u="maxWait"in b,r=u?sn(qt(b.maxWait)||0,e):r,w="trailing"in b?!!b.trailing:w);function k(_){var A=x,$=t;return x=t=void 0,n=_,i=g.apply($,A),i}function p(_){return n=_,s=setTimeout(S,e),a?k(_):i}function v(_){var A=_-f,$=_-n,O=e-A;return u?cn(O,r-$):O}function y(_){var A=_-f,$=_-n;return f===void 0||A>=e||A<0||u&&$>=r}function S(){var _=Ot();if(y(_))return c(_);s=setTimeout(S,v(_))}function c(_){return s=void 0,w&&x?k(_):(x=t=void 0,i)}function d(){s!==void 0&&clearTimeout(s),n=0,x=f=t=s=void 0}function o(){return s===void 0?i:c(Ot())}function h(){var _=Ot(),A=y(_);if(x=arguments,t=this,f=_,A){if(s===void 0)return p(f);if(u)return clearTimeout(s),s=setTimeout(S,e),k(f)}return s===void 0&&(s=setTimeout(S,e)),i}return h.cancel=d,h.flush=o,h}function pn(g){let e,b,x,t,r,i,s,f,n,a,u,w,k,p,v;return{c(){e=R("label"),e.textContent="Username",b=F(),x=R("input"),t=F(),r=R("br"),i=F(),s=R("label"),s.textContent="Password",f=F(),n=R("input"),a=F(),u=R("button"),u.textContent="Login",w=F(),k=R("button"),k.textContent="Sign Up",H(e,"for","username"),H(x,"name","username"),H(x,"minlength","3"),H(x,"maxlength","100"),H(s,"for","password"),H(n,"name","password"),H(n,"type","password"),n.required=!0,H(n,"minlength","6"),H(u,"class","login"),H(k,"class","login")},m(y,S){K(y,e,S),K(y,b,S),K(y,x,S),ut(x,g[0]),K(y,t,S),K(y,r,S),K(y,i,S),K(y,s,S),K(y,f,S),K(y,n,S),ut(n,g[1]),K(y,a,S),K(y,u,S),K(y,w,S),K(y,k,S),p||(v=[V(x,"input",g[4]),V(n,"input",g[5]),V(u,"click",g[2]),V(k,"click",g[3])],p=!0)},p(y,[S]){S&1&&x.value!==y[0]&&ut(x,y[0]),S&2&&n.value!==y[1]&&ut(n,y[1])},i:X,o:X,d(y){y&&M(e),y&&M(b),y&&M(x),y&&M(t),y&&M(r),y&&M(i),y&&M(s),y&&M(f),y&&M(n),y&&M(a),y&&M(u),y&&M(w),y&&M(k),p=!1,nt(v)}}}function hn(g,e,b){let x,t;function r(){at.auth(x,t,({err:n})=>{n&&alert(n)})}function i(){at.create(x,t,({err:n})=>{n?alert(n):r()})}function s(){x=this.value,b(0,x)}function f(){t=this.value,b(1,t)}return[x,t,r,i,s,f]}class dn extends gt{constructor(e){super(),wt(this,e,hn,pn,ft,{})}}function yn(g){let e,b,x,t,r,i,s=g[0].what+"",f,n,a;return{c(){e=R("div"),b=R("img"),t=F(),r=R("div"),i=R("p"),f=Q(s),n=F(),a=R("time"),a.textContent=`${g[3].toLocaleTimeString()}`,Et(b.src,x=g[2])||H(b,"src",x),H(b,"alt","avatar"),H(r,"class","message-text"),H(e,"class",`message ${g[1]}`)},m(u,w){K(u,e,w),L(e,b),L(e,t),L(e,r),L(r,i),L(i,f),L(r,n),L(r,a)},p(u,[w]){w&1&&s!==(s=u[0].what+"")&&re(f,s)},i:X,o:X,d(u){u&&M(e)}}}function vn(g,e,b){let{message:x}=e,{sender:t}=e;const r=x.who===t?"sent":"received",i=`https://avatars.dicebear.com/api/initials/${x.who}.svg`,s=new Date(x.when);return g.$$set=f=>{"message"in f&&b(0,x=f.message),"sender"in f&&b(4,t=f.sender)},[x,r,i,s,t]}class wn extends gt{constructor(e){super(),wt(this,e,vn,yn,ft,{message:0,sender:4})}}function Xt(g,e,b){const x=g.slice();return x[15]=e[b],x}function gn(g){let e,b,x;return b=new dn({}),{c(){e=R("main"),jt(b.$$.fragment)},m(t,r){K(t,e,r),dt(b,e,null),x=!0},p:X,i(t){x||(Y(b.$$.fragment,t),x=!0)},o(t){Z(b.$$.fragment,t),x=!1},d(t){t&&M(e),yt(b)}}}function bn(g){let e,b=[],x=new Map,t,r,i,s,f,n,a,u,w,k,p,v,y,S,c=g[3];const d=h=>h[15].when;for(let h=0;h<c.length;h+=1){let _=Xt(g,c,h),A=d(_);x.set(A,b[h]=zt(A,_))}let o=!g[1]&&Vt(g);return{c(){e=R("main");for(let h=0;h<b.length;h+=1)b[h].c();t=F(),r=R("div"),i=F(),s=R("form"),f=R("input"),n=F(),a=R("button"),u=Q("\u{1F4A5}"),k=F(),o&&o.c(),p=ne(),H(r,"class","dummy"),H(f,"type","text"),H(f,"placeholder","Type a message..."),H(f,"maxlength","100"),H(a,"type","submit"),a.disabled=w=!g[0]},m(h,_){K(h,e,_);for(let A=0;A<b.length;A+=1)b[A].m(e,null);L(e,t),L(e,r),g[9](r),K(h,i,_),K(h,s,_),L(s,f),ut(f,g[0]),L(s,n),L(s,a),L(a,u),K(h,k,_),o&&o.m(h,_),K(h,p,_),v=!0,y||(S=[V(e,"scroll",function(){te(g[5])&&g[5].apply(this,arguments)}),V(f,"input",g[10]),V(s,"submit",ge(g[8]))],y=!0)},p(h,_){g=h,_&72&&(c=g[3],oe(),b=Ae(b,_,d,1,g,c,x,e,je,zt,t,Xt),ue()),_&1&&f.value!==g[0]&&ut(f,g[0]),(!v||_&1&&w!==(w=!g[0]))&&(a.disabled=w),g[1]?o&&(o.d(1),o=null):o?o.p(g,_):(o=Vt(g),o.c(),o.m(p.parentNode,p))},i(h){if(!v){for(let _=0;_<c.length;_+=1)Y(b[_]);v=!0}},o(h){for(let _=0;_<b.length;_+=1)Z(b[_]);v=!1},d(h){h&&M(e);for(let _=0;_<b.length;_+=1)b[_].d();g[9](null),h&&M(i),h&&M(s),h&&M(k),o&&o.d(h),h&&M(p),y=!1,nt(S)}}}function zt(g,e){let b,x,t;return x=new wn({props:{message:e[15],sender:e[6]}}),{key:g,first:null,c(){b=ne(),jt(x.$$.fragment),this.first=b},m(r,i){K(r,b,i),dt(x,r,i),t=!0},p(r,i){e=r;const s={};i&8&&(s.message=e[15]),i&64&&(s.sender=e[6]),x.$set(s)},i(r){t||(Y(x.$$.fragment,r),t=!0)},o(r){Z(x.$$.fragment,r),t=!1},d(r){r&&M(b),yt(x,r)}}}function Vt(g){let e,b,x,t,r,i=g[4]&&Yt();return{c(){e=R("div"),b=R("button"),i&&i.c(),x=Q(`
          \u{1F447}`),Rt(b,"red",g[4]),H(e,"class","scroll-button")},m(s,f){K(s,e,f),L(e,b),i&&i.m(b,null),L(b,x),t||(r=V(b,"click",g[7]),t=!0)},p(s,f){s[4]?i||(i=Yt(),i.c(),i.m(b,x)):i&&(i.d(1),i=null),f&16&&Rt(b,"red",s[4])},d(s){s&&M(e),i&&i.d(),t=!1,r()}}}function Yt(g){let e;return{c(){e=Q("\u{1F4AC}")},m(b,x){K(b,e,x)},d(b){b&&M(e)}}}function mn(g){let e,b,x,t;const r=[bn,gn],i=[];function s(f,n){return f[6]?0:1}return b=s(g),x=i[b]=r[b](g),{c(){e=R("div"),x.c(),H(e,"class","container")},m(f,n){K(f,e,n),i[b].m(e,null),t=!0},p(f,[n]){let a=b;b=s(f),b===a?i[b].p(f,n):(oe(),Z(i[a],1,1,()=>{i[a]=null}),ue(),x=i[b],x?x.p(f,n):(x=i[b]=r[b](f),x.c()),Y(x,1),x.m(e,null))},i(f){t||(Y(x),t=!0)},o(f){Z(x),t=!1},d(f){f&&M(e),i[b].d()}}}const Qt="randomstringabcxyz123456789";function _n(g,e,b){let x,t;ee(g,vt,c=>b(6,t=c));const r=Bt();let i="",s=!0,f,n,a=[],u=!1;function w(c){b(1,s=(c.target.scrollTop||1/0)>f),f=c.target.scrollTop}function k(){setTimeout(()=>n==null?void 0:n.scrollIntoView({behavior:"auto"}),50),b(4,u=!1)}var p={".":{">":new Date(+new Date-1*1e3*60*60*3).toISOString()},"-":1};_e(()=>{r.get("chat").map(p).on(async(c,d)=>{if(c){const o=Qt,h={who:await r.user(c).get("alias"),what:await Wt.decrypt(c.what,o)+"",when:Bt.state.is(c,"what")};h.what&&h.what!=="undefined"&&(a.findIndex(_=>_.when===h.when)===-1&&b(3,a=[...a.slice(-100),h].sort((_,A)=>_.when-A.when)),s&&(setTimeout(()=>n==null?void 0:n.scrollIntoView({behavior:"auto"}),50),b(4,u=!1)))}})});async function v(){console.log("sendMessage");const c=await Wt.encrypt(i,Qt),d=at.get("all").set({what:c}),o=new Date().toISOString();r.get("chat").get(o).put(d),b(0,i=""),b(1,s=!0),k()}function y(c){Dt[c?"unshift":"push"](()=>{n=c,b(2,n)})}function S(){i=this.value,b(0,i)}return b(5,x=ln(w,1e3)),[i,s,n,a,u,x,t,k,v,y,S]}class kn extends gt{constructor(e){super(),wt(this,e,_n,mn,ft,{})}}function Sn(g){let e,b,x,t,r;return b=new Be({}),t=new kn({}),{c(){e=R("div"),jt(b.$$.fragment),x=F(),jt(t.$$.fragment),H(e,"class","app")},m(i,s){K(i,e,s),dt(b,e,null),L(e,x),dt(t,e,null),r=!0},p:X,i(i){r||(Y(b.$$.fragment,i),Y(t.$$.fragment,i),r=!0)},o(i){Z(b.$$.fragment,i),Z(t.$$.fragment,i),r=!1},d(i){i&&M(e),yt(b),yt(t)}}}class xn extends gt{constructor(e){super(),wt(this,e,null,Sn,ft,{})}}new xn({target:document.getElementById("app")});
